{"version":3,"file":"js/app.ed416681.js","mappings":"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","sources":["webpack://hashed-potato-pwa/./src/lib/app-dialog.js","webpack://hashed-potato-pwa/./src/App.vue","webpack://hashed-potato-pwa/./src/components/AppHeader.vue","webpack://hashed-potato-pwa/./src/components/AppHeader.vue?1f6a","webpack://hashed-potato-pwa/./src/components/AppFooter.vue","webpack://hashed-potato-pwa/./src/components/AppFooter.vue?f367","webpack://hashed-potato-pwa/./src/App.vue?7ccd","webpack://hashed-potato-pwa/./src/views/IndexView.vue","webpack://hashed-potato-pwa/./src/views/IndexView.vue?d517","webpack://hashed-potato-pwa/./src/views/SignInView.vue","webpack://hashed-potato-pwa/./src/components/AppMainHeader.vue","webpack://hashed-potato-pwa/./src/components/AppMainHeader.vue?d6ed","webpack://hashed-potato-pwa/./src/components/SelectRecents.vue","webpack://hashed-potato-pwa/./src/components/SelectRecents.vue?cc04","webpack://hashed-potato-pwa/./src/components/LinkFieldShow.vue","webpack://hashed-potato-pwa/./src/components/LinkFieldShow.vue?1be1","webpack://hashed-potato-pwa/./src/components/DecryptButton.vue","webpack://hashed-potato-pwa/./src/components/DecryptButton.vue?e3f4","webpack://hashed-potato-pwa/./src/lib/http-poster.js","webpack://hashed-potato-pwa/./src/formats/signup.vschema.js","webpack://hashed-potato-pwa/./src/views/SignInView.vue?f79a","webpack://hashed-potato-pwa/./src/views/SignUpView.vue","webpack://hashed-potato-pwa/./src/lib/random.js","webpack://hashed-potato-pwa/./src/views/SignUpView.vue?125d","webpack://hashed-potato-pwa/./src/views/StartView.vue","webpack://hashed-potato-pwa/./src/components/CreateDatastore.vue","webpack://hashed-potato-pwa/./src/components/CreateDatastore.vue?b45d","webpack://hashed-potato-pwa/./src/views/StartView.vue?57be","webpack://hashed-potato-pwa/./src/views/ServiceGenView.vue","webpack://hashed-potato-pwa/./src/lib/generate-random-id.js","webpack://hashed-potato-pwa/./src/views/ServiceGenView.vue?d7bc","webpack://hashed-potato-pwa/./src/views/ConfigView.vue","webpack://hashed-potato-pwa/./src/lib/webstorage.js","webpack://hashed-potato-pwa/./src/views/ConfigView.vue?7930","webpack://hashed-potato-pwa/./src/views/DevelopperView.vue","webpack://hashed-potato-pwa/./src/components/XMLEditor.vue","webpack://hashed-potato-pwa/./src/components/XMLEditor.vue?f32c","webpack://hashed-potato-pwa/./src/views/DevelopperView.vue?38c4","webpack://hashed-potato-pwa/./src/views/ContentEditorView.vue","webpack://hashed-potato-pwa/./src/views/ContentEditorView.vue?aeea","webpack://hashed-potato-pwa/./src/views/PubkeyView.vue","webpack://hashed-potato-pwa/./src/views/PubkeyView.vue?469d","webpack://hashed-potato-pwa/./src/router/index.js","webpack://hashed-potato-pwa/./src/lib/fs-helper.js","webpack://hashed-potato-pwa/./src/lib/string_to_buffer.js","webpack://hashed-potato-pwa/./src/lib/cypto.js","webpack://hashed-potato-pwa/./src/store/modules/datastore.js","webpack://hashed-potato-pwa/./src/store/modules/xmlobject.js","webpack://hashed-potato-pwa/./src/store/index.js","webpack://hashed-potato-pwa/./src/logger/index.js","webpack://hashed-potato-pwa/./src/main.js","webpack://hashed-potato-pwa/webpack/bootstrap","webpack://hashed-potato-pwa/webpack/runtime/chunk loaded","webpack://hashed-potato-pwa/webpack/runtime/compat get default export","webpack://hashed-potato-pwa/webpack/runtime/define property getters","webpack://hashed-potato-pwa/webpack/runtime/global","webpack://hashed-potato-pwa/webpack/runtime/hasOwnProperty shorthand","webpack://hashed-potato-pwa/webpack/runtime/make namespace object","webpack://hashed-potato-pwa/webpack/runtime/publicPath","webpack://hashed-potato-pwa/webpack/runtime/jsonp chunk loading","webpack://hashed-potato-pwa/webpack/startup"],"sourcesContent":["/* eslint-disable */\n\nexport default {\n  install: (app, options) => {\n    app.config.globalProperties.$dialog = {\n      \n      alert: async ({\n        message = 'This is alert.',\n      }) => {\n        return await window.alert(message);\n      },\n\n      confirm: async ({\n        message = 'This is confirm. ok?',\n      }) => {\n        return await window.confirm(message);\n      },\n\n      prompt: async ({\n        message = 'This is prompt',\n      }) => {\n        return new Promise((resolve, reject) => {\n          const input = window.prompt(message);\n          resolve(input);\n        });\n      },\n\n    }\n  },\n};\n","<template>\r\n  <div class='app'>\r\n    <header>\r\n      <AppHeader />\r\n    </header>\r\n    <main>\r\n      <router-view></router-view>\r\n    </main>\r\n    <footer>\r\n      <AppFooter />\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppHeader from './components/AppHeader.vue';\r\nimport AppFooter from './components/AppFooter.vue';\r\n// import AppDialog from './components/AppDialog.vue';\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: { AppHeader, AppFooter },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  /* Imports */\r\n  @use \"@/assets/styles/color.scss\" as c;\r\n  @use \"@/assets/styles/mediaquery.scss\" as m;\r\n  @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&display=swap');\r\n  // @import '@/assets/styles/the-new-css-reset.css';\r\n  /* Variables */\r\n  :root {\r\n    --trs-duration: .6s;\r\n  }\r\n  /* Global Styles */\r\n  html {\r\n    font-size: 16px;\r\n\r\n    * {\r\n      margin: 0;\r\n      padding: 0;\r\n      box-sizing: content-box;\r\n      zoom: 1;\r\n    }\r\n\r\n    body {\r\n      font-family: 'M PLUS Rounded 1c', 'Avenir', 'Helvetica Neue', 'Helvetica', 'Arial',\r\n        'Hiragino Sans', 'ヒラギノ角ゴシック', YuGothic, 'Yu Gothic', 'メイリオ',\r\n        Meiryo, 'ＭＳ Ｐゴシック', 'MS PGothic';\r\n    }\r\n  }\r\n\r\n  p,h1,h2,h3,h4,h5,a {\r\n    color: c.cp(\"black\");\r\n  }\r\n\r\n  li {\r\n    list-style: none;\r\n  }\r\n\r\n  header {\r\n    background-color: c.cp(\"black\");\r\n    width: 100%;\r\n    padding: 5px 0;\r\n  }\r\n\r\n  main {\r\n    margin: 0 auto;\r\n    padding: 0;\r\n    min-height: 100vh;\r\n    max-width: 1200px;\r\n    @include m.mq(pc) {\r\n      width: 80%;\r\n    }\r\n  }\r\n\r\n  footer {\r\n    background-color: c.cp(\"black\");\r\n  }\r\n\r\n  // button {\r\n  //   border: 0;\r\n  //   border-radius: .2rem;\r\n  //   padding: 0 1.5rem;\r\n  //   height: 1.6rem;\r\n  //   &:hover {\r\n  //     cursor: pointer;\r\n  //     background-color: c.cp('blue', 'hovered');\r\n  //     box-shadow: 0 10px 25px 0 rgba(0, 0, 0, .5);\r\n  //   }\r\n  // }\r\n\r\n  select {\r\n    border-radius: .2rem;\r\n    padding: .3rem 1.5rem;\r\n    font-size: 1rem;\r\n  }\r\n</style>\r\n","<template>\r\n  <div className=\"header\">\r\n    <div className='header-logo'>\r\n      <router-link to='/' className=\"header-logo__item\">\r\n        HASHED POTATO\r\n      </router-link>\r\n    </div>\r\n    <nav className='header-menu'>\r\n      <ul className=\"header-menu__outer\">\r\n        <li>\r\n          <router-link to='/start'>Start</router-link>\r\n        </li>\r\n        <li>\r\n          <router-link to='/content'>View</router-link>\r\n        </li>\r\n        <li>\r\n          <router-link to='/config'>Config</router-link>\r\n        </li>\r\n        <li>\r\n          <router-link to='/dev'>Dev</router-link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppHeader',\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @use \"@/assets/styles/mediaquery.scss\" as m;\r\n  @use \"@/assets/styles/color.scss\" as c;\r\n  .header {\r\n    font-size: 1.2rem;\r\n    @include m.mq(pc) {\r\n      width: 80%;\r\n    }\r\n    margin: 0 auto;\r\n\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    * {\r\n      color: c.cp(\"white\");\r\n    }\r\n\r\n    a {\r\n      text-decoration: none;\r\n      &:hover {\r\n        text-decoration: underline;\r\n        transition: var(--trs-duration);\r\n        cursor: pointer;\r\n      }\r\n    }\r\n\r\n    .header-logo {\r\n      width: 150px;\r\n      text-align: center;\r\n    }\r\n\r\n    .header-menu {\r\n      .header-menu__outer {\r\n        height: 100%;\r\n        display: flex;\r\n        gap: 1rem;\r\n        margin: 0 1rem;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./AppHeader.vue?vue&type=template&id=12f5ba1f&scoped=true\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=js\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=js\"\n\nimport \"./AppHeader.vue?vue&type=style&index=0&id=12f5ba1f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12f5ba1f\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"footer\">\r\n    <div className=\"copyright\">&copy;hashed-potato.mydns.jp</div>\r\n    <div className=\"note\">システムは開発中です</div>\r\n    <div v-if=\"isSupported() !== true\" id='fsa-not-supported'>\r\n      The\r\n      <a href='https://wicg.github.io/file-system-access/' target='_blank'>File System Access API</a>\r\n      is <b>not</b> supported in this browser yet, and Text Editor is running\r\n      in legacy mode. In legacy mode, the file modified indicators are not shown.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppFooter',\r\n  data: () => ({\r\n    hasFSAccess: null,\r\n  }),\r\n  methods: {\r\n    isSupported() {\r\n      this.hasFSAccess = 'chooseFileSystemEntries' in window\r\n          || 'showOpenFilePicker' in window;\r\n      return this.hasFSAccess;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @use \"@/assets/styles/mediaquery.scss\" as m;\r\n  .footer {\r\n    background-color: black;\r\n    color: white;\r\n    margin: 0 auto;\r\n    @include m.mq(pc) {\r\n      width: 80%;\r\n    }\r\n    * {\r\n      color: white;\r\n    }\r\n    .copyright {\r\n      text-align: center;\r\n    }\r\n\r\n    .note {\r\n      text-align: center;\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./AppFooter.vue?vue&type=template&id=5cd33166&scoped=true\"\nimport script from \"./AppFooter.vue?vue&type=script&lang=js\"\nexport * from \"./AppFooter.vue?vue&type=script&lang=js\"\n\nimport \"./AppFooter.vue?vue&type=style&index=0&id=5cd33166&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5cd33166\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=0cdf9942\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0cdf9942&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div className=\"index\">\r\n    <div className=\"keyvisual\">\r\n      <div className=\"keyvisual__message\">\r\n        <p>\r\n          Hello World\r\n          <br>新しいシングルサインオン\r\n        </p>\r\n      </div>\r\n      <div className=\"keyvisual__start\">\r\n        <router-link to=\"/start\" className=\"keyvisual__start--btn\">Get Started</router-link>\r\n      </div>\r\n    </div>\r\n    <section id=\"about\">\r\n      <h1>ポテトシステム - hashed-potato とは</h1>\r\n      <hr>\r\n      <div className=\"document\">\r\n        <h2>インターネット上の個人情報を管理し、プライバシーを守ります</h2>\r\n        <div>\r\n          <span className=\"emphasis\">インターネットにある個人情報を管理し、保護することは重要です。</span>\r\n          hashed-potatoは、この管理を手助けするシステムです。\r\n        </div>\r\n        <div>\r\n          例えば、あなたがインターネットで買い物をすることを考えてください。\r\n          アカウントを作成するために、電話番号やメールアドレスなど必要な個人情報を登録し、\r\n          パスワードで<span className=\"key\">鍵</span>をかけていることでしょう。\r\n          そこはあなた専用の<span className=\"vault\">ロッカー</span>であり、個人情報は、\r\n          そこにしまわれた大切な<span className=\"asset\">資産</span>であると、\r\n          考えることができます。\r\n        </div>\r\n        <div>\r\n          <figure>\r\n              <img src=\"@/assets/img/weare1.png\" alt=\"個人情報が無秩序に拡散\">\r\n              <figcaption>\r\n                素晴らしいウェブサイトであふれている今日では、あなたの<span className=\"key\">鍵</span>の数は膨れ上がり、\r\n                どの<span className=\"vault\">ロッカー</span>に\r\n                どんな<span className=\"asset\">資産</span>がしまわれているか、\r\n                わからなくなってくるはずです。\r\n                （複数のロッカーに同じ鍵をかけてはいけません！）\r\n              </figcaption>\r\n          </figure>\r\n        </div>\r\n        <div>\r\n          <figure>\r\n            <img src=\"@/assets/img/weare2.png\" alt=\"個人情報の所在を明確化\">\r\n            <figcaption>\r\n              hashed-potatoとウェブサイトがパートナーであるならば、\r\n              <span className=\"emphasis\">どこにどんな<span className=\"asset\">資産</span>がしまわれているのかを\r\n              管理することができるようになります。</span>\r\n              また、大量の<span className=\"key\">鍵</span>に悩ませれることも少なくなることでしょう。\r\n            </figcaption>\r\n          </figure>\r\n        </div>\r\n      </div>\r\n      <div className=\"document\">\r\n        <h2>個人情報を秘匿化し、プライバシーを守ります</h2>\r\n        <div>\r\n          <span className=\"emphasis\">\r\n              個人情報はその人の資産です。\r\n              個人情報の実体をコピーし、外部に送信することには慎重にならなければなりません。\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <figure>\r\n              <img src=\"@/assets/img/weare3.png\" alt=\"個人情報のコピーを送信\">\r\n              <figcaption>\r\n                  <span className=\"vault\">ロッカー</span>のセキュリティが何らかの原因で壊れた場合、\r\n                  そこにあるあなたの<span className=\"asset\">資産</span>も危険にさらされてしまいます。\r\n              </figcaption>\r\n          </figure>\r\n        </div>\r\n        <div>\r\n          <figure>\r\n              <img src=\"@/assets/img/weare4.png\" alt=\"個人情報の代替情報を送信\">\r\n              <figcaption>\r\n                  hashed-potatoでは、<span className=\"asset\">資産</span>を、その場所のみを記した\"手形\"に置き換え、\r\n              <span className=\"emphasis\">\r\n                  可能な限り<span className=\"asset\">資産</span>を手元に保持します。\r\n              </span>\r\n              </figcaption>\r\n          </figure>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'IndexView',\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @use \"@/assets/styles/color.scss\" as c;\r\n  @use \"@/assets/styles/mediaquery.scss\" as m;\r\n  .keyvisual {\r\n    height: 400px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-flow: column;\r\n    gap: 1rem;\r\n    .keyvisual__message {\r\n      p {\r\n        text-align: center;\r\n        font-size: 2rem;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n    .keyvisual__start {\r\n      .keyvisual__start--btn {\r\n        border: 1px solid c.cp(\"blue\");\r\n        border-radius: 30px;\r\n        padding: 3px 6px;\r\n        text-decoration: none;\r\n        &:visited, &:active {\r\n          color: c.cp(\"blue\");\r\n        }\r\n\r\n        &:hover {\r\n          cursor: pointer;\r\n          color: c.cp(\"blue\", \"hovered\");\r\n          transition: var(--trs-duration);\r\n          border: 1px solid c.cp(\"blue\", \"hovered\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  section {\r\n    margin: 0 auto;\r\n\r\n    img {\r\n      width: 100%;\r\n      @include m.mq(pc) {\r\n        width: 80%;\r\n      }\r\n      max-width: 500px;\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./IndexView.vue?vue&type=template&id=d6f9323a&scoped=true\"\nimport script from \"./IndexView.vue?vue&type=script&lang=js\"\nexport * from \"./IndexView.vue?vue&type=script&lang=js\"\n\nimport \"./IndexView.vue?vue&type=style&index=0&id=d6f9323a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d6f9323a\"]])\n\nexport default __exports__","<template>\r\n  <div className=\"SignUp\">\r\n    <AppMainHeader title=\"SignUp\"/>\r\n    <p>Reception ID: {{ id }}</p>\r\n    <p>Check: {{ (check) ? 'OK' : 'ERROR' }}</p>\r\n    <LinkFieldShow :fields='req' :key=\"req\" />\r\n    よければ、ファイルを選択\r\n    <SelectRecents />\r\n    <DecryptButton @ondecrypted='getService' />\r\n    <h3>リクエスト内容</h3>\r\n    <pre>\r\n      {{ req }}\r\n    </pre>\r\n    <h3>送信情報</h3>\r\n    <pre>\r\n      {{ localServiceInfo }}\r\n    </pre>\r\n    <pre>\r\n      {{ personalInfo }}\r\n    </pre>\r\n    <button @click=\"sendData\">サインイン</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vs from 'value-schema';\r\nimport AppMainHeader from '@/components/AppMainHeader.vue';\r\nimport SelectRecents from '@/components/SelectRecents.vue';\r\nimport LinkFieldShow from '@/components/LinkFieldShow.vue';\r\nimport DecryptButton from '@/components/DecryptButton.vue';\r\nimport HttpPoster from '@/lib/http-poster.js';\r\nimport signupvs from '@/formats/signup.vschema.js';\r\n\r\n// エージェント URL\r\nconst ENDPOINT = 'https://script.google.com/macros/s/'\r\n  + 'AKfycbyUVtwxdl5rHLM1TTeLsSVidti3OdsHZQVEH1D_Z7hpFNwQ_CPK_Gi0WlUC7Dki7IJQ/exec';\r\n\r\nexport default {\r\n  name: 'SignInView',\r\n  components: {\r\n    AppMainHeader,\r\n    SelectRecents,\r\n    LinkFieldShow,\r\n    DecryptButton,\r\n  },\r\n  data() {\r\n    return {\r\n      /** @type {string} 受付ID */\r\n      id: null,\r\n      /** @type {{RedirectURI: string, Scope: string[], Type: string, ID: string}}\r\n       * Link Request オプション */\r\n      req: null,\r\n      /** @type {boolean} ID 検証結果 */\r\n      check: false,\r\n      /** @type {object|null} Store 内の該当サービスデータ */\r\n      localServiceInfo: null,\r\n      /** @type {object|null} 送信情報 */\r\n      postData: {\r\n        identity: null,\r\n        credential: null,\r\n      },\r\n      personalInfo: null,\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * ファイルの複合化が終わったら呼ばれる.\r\n     * state.editor から xmlobject に XML コンテンツを移動\r\n     * Resuester ID から Service を取得する\r\n     */\r\n    async getService() {\r\n      const rqID = this.req.ID;\r\n\r\n      if (!this.$store.getters['datastore/isEmptyData']) {\r\n        // Data ありのとき: アカウントの所持を確認\r\n        const { xobject } = this.$store.getters['datastore/editorState'];\r\n        this.$store.commit('xmlobject/putXmlObject', xobject);\r\n        const service = this.$store.getters['xmlobject/getServiceById'](rqID);\r\n        if (service) {\r\n          // アカウント発見\r\n          this.localServiceInfo = service;\r\n          if (service.scope.includes('none')) {\r\n            delete this.postData.identity;\r\n          } else {\r\n            this.postData.identity = service.scope\r\n              .map((key) => this.$store.getters['xmlobject/getPersonalInfoByKey'](key));\r\n          }\r\n          return;\r\n        }\r\n      }\r\n      // Data なし || アカウント未発見\r\n      this.onNoService();\r\n    },\r\n    /**\r\n     * サービスが見つからなかったとき、CANCEL を POST\r\n     */\r\n    onNoService() {\r\n      const consent = this.$dialog.confirm({\r\n        message: 'アカウントが見つかりません. サインアップするために、元のウェブサービスに戻りますか?',\r\n      });\r\n      if (consent) {\r\n        const poster = new HttpPoster(this.req.RedirectURI);\r\n        poster.postWithJSON(HttpPoster.RESULT.CANCELED);\r\n        window.location.href = this.req.RedirectURI;\r\n        return;\r\n      }\r\n      this.$log.info('キャンセルされました');\r\n    },\r\n    sendData() {\r\n      const consent = this.$dialog.confirm({\r\n        message: '送信します. よろしいですか?',\r\n      });\r\n      if (consent) {\r\n        const poster = new HttpPoster(this.req.RedirectURI);\r\n        poster.postWithJSON(HttpPoster.RESULT.AGREED, {\r\n          credential: this.info.credential,\r\n          info: this.personalInfo,\r\n        });\r\n        window.location.href = this.req.RedirectURI;\r\n        return;\r\n      }\r\n      this.$log.info('キャンセルされました');\r\n    },\r\n  },\r\n  watch: {\r\n    async req(next) {\r\n      this.$log.debug('Requestオプション(req) アップデート', next);\r\n      try {\r\n        if ('error' in next) throw next.error;\r\n        vs.applySchemaObject(signupvs, next);\r\n        this.check = true;\r\n      } catch (err) {\r\n        this.$log.info(err);\r\n        this.check = false;\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    const logger = this.$log;\r\n    logger.info('Endpoint', ENDPOINT);\r\n    // 受付 ID 入力\r\n    this.id = this.$route.params.id;\r\n    /**\r\n     * エージェントから Link Request を取得する\r\n     * @param {string} 受付ID\r\n     * @returns {{\r\n      * RedirectURI: string, Scope: string[], Type: string,\r\n      * ID: string\r\n     * }|null}\r\n     */\r\n    this.req = await (async (id) => {\r\n      try {\r\n        const response = await fetch(`${ENDPOINT}?reception_id=${id}`);\r\n        /**\r\n         * @type {{\r\n          * redirect_uri: string, scope: string[], type: string,\r\n          * self_request_auth_value: string, self_request_auth: string,\r\n          * requester_id: string\r\n         * }}\r\n         */\r\n        const data = await response.json();\r\n        logger.debug('リクエストデータ', data);\r\n        return {\r\n          RedirectURI: data.redirect_uri,\r\n          Scope: data.scope,\r\n          Type: data.type,\r\n          ID: data.requester_id,\r\n        };\r\n      } catch (error) {\r\n        logger.info(error);\r\n        return null;\r\n      }\r\n    })(this.id);\r\n  },\r\n};\r\n\r\n</script>\r\n","<template>\n<div>\n  <h2>\n    {{ title }}\n  </h2>\n  <hr/>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'AppMainHeader',\n  props: ['title'],\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  h2 {\n    padding-top: 8px;\n    margin: 0;\n  }\n  hr {\n    border: none; /* ボーダーをなしにする */\n    height: 1px; /* 高さを2pxに設定 */\n    background-color: #333; /* 背景色を指定 */\n  }\n</style>\n","import { render } from \"./AppMainHeader.vue?vue&type=template&id=a2c02dd2&scoped=true\"\nimport script from \"./AppMainHeader.vue?vue&type=script&lang=js\"\nexport * from \"./AppMainHeader.vue?vue&type=script&lang=js\"\n\nimport \"./AppMainHeader.vue?vue&type=style&index=0&id=a2c02dd2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a2c02dd2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"select-recents\">\r\n    <label for='recent-files-select-box'>\r\n      {{ label }}\r\n      <select\r\n        name='recent-files-select-box'\r\n        @change='selectedRecentFiles'\r\n        v-model='userSelected'\r\n        >\r\n        <option disabled key='disabled'>{{ disabledValue }}</option>\r\n        <option\r\n          v-for='(history, idx) of histories'\r\n          :value='idx'\r\n          :key='idx'\r\n          >{{ history.name }}</option>\r\n      </select>\r\n    </label>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'RecentFilesWithSelectBox',\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: 'Recent Files',\r\n    },\r\n    disabledValue: {\r\n      type: String,\r\n      default: '--- Select Recent Files:',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      histories: [],\r\n      userSelected: null,\r\n    };\r\n  },\r\n  methods: {\r\n    async selectedRecentFiles() {\r\n      const idx = Number(this.userSelected);\r\n      const selectedHistoryItem = this.histories[idx];\r\n      this.$log.debug('selectedHistoryItem', selectedHistoryItem);\r\n      try {\r\n        const result = await this.$store.dispatch('datastore/plugFile', { handle: selectedHistoryItem });\r\n        this.$log.debug('datastore/plugFile, result', result);\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    const recentFiles = await (await this.$store.dispatch('datastore/fetch')).recentFiles();\r\n    this.histories = recentFiles;\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./SelectRecents.vue?vue&type=template&id=3db27770\"\nimport script from \"./SelectRecents.vue?vue&type=script&lang=js\"\nexport * from \"./SelectRecents.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"linkfieldshow\">\r\n    <p>Type: {{ type??'' }}</p>\r\n    <p>Scope: {{ scope??'' }}</p>\r\n    <p>Requester ID: {{ id??'' }}</p>\r\n    <p>Redirect URI: {{ redirectURI??'' }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LinkFieldShow',\r\n  components: {},\r\n  props: {\r\n    // visibleCheck: Object,\r\n    fields: {\r\n      Type: String,\r\n      Scope: Array,\r\n      RedirectURI: String,\r\n      ID: String, // Requester ID\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      type: this.fields?.Type,\r\n      scope: this.fields?.Scope,\r\n      redirectURI: this.fields?.RedirectURI,\r\n      id: this.fields?.ID,\r\n    };\r\n  },\r\n  watch: {\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./LinkFieldShow.vue?vue&type=template&id=58dcd4f3\"\nimport script from \"./LinkFieldShow.vue?vue&type=script&lang=js\"\nexport * from \"./LinkFieldShow.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <button @click=\"doDecrypt\">{{ label }}</button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DecryptButton',\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: '複合化',\r\n    },\r\n  },\r\n  emits: ['ondecrypted'],\r\n  methods: {\r\n    /**\r\n     * store の file を複合化する.\r\n     * file がなければエラーを返す.\r\n     * エラー以外で処理が完了したら、'ondecrypted' を emit する.\r\n     */\r\n    async doDecrypt() {\r\n      const { handle } = this.$store.getters['datastore/fileState'];\r\n      // handle チェック\r\n      if (!handle) throw new Error('Handle is null');\r\n      // 複合化 不要\r\n      if (this.$store.getters['datastore/isEmptyData']) {\r\n        this.$log.debug('Data is none');\r\n        this.$emit('ondecrypted');\r\n        return;\r\n      }\r\n      // 複合化 要\r\n      const password = await this.$dialog.prompt({ message: 'Enter PASSPHRASE for Data Decrypt' });\r\n      await this.$store.dispatch('datastore/decryptContent', { password });\r\n      this.$emit('ondecrypted');\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","import { render } from \"./DecryptButton.vue?vue&type=template&id=c90b7544\"\nimport script from \"./DecryptButton.vue?vue&type=script&lang=js\"\nexport * from \"./DecryptButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/**\n * クライアントからパートナーに POST 送信する\n */\nclass HttpPoster {\n  /**\n   * POST 送信先を指定\n   * @param {string} endpoint POST 送信先\n   */\n  constructor(endpoint) {\n    this.endpoint = endpoint;\n  }\n\n  /**\n   * POST 情報のテンプレート\n   */\n  static RESULT = {\n    CANCELED: {\n      ok: false,\n      result: 'CANCELED',\n      resultcode: -1,\n    },\n    AGREED: {\n      ok: true,\n      result: 'AGREED',\n      resultcode: 1,\n    },\n  };\n\n  /**\n   * JSON でデータ送信\n   * @param {object} result 結果オブジェクト HttpPoster.RESULT より指定\n   * @param {object|null} [payload=null] その他追加情報\n   * @returns {boolean} fetch の成否\n   */\n  async postWithJSON(result, payload = null) {\n    try {\n      const body = result;\n      console.log('body', body);\n      if (payload) Object.assign(body, payload);\n      console.log('payload', payload);\n      if (!body) throw new Error('指定された resultName がありません');\n      const response = await fetch(this.endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      });\n      return response.ok;\n    } catch (error) {\n      console.error(error);\n      return false;\n    }\n  }\n}\n/*\nfunction createInput(key, value) {\n  const input = document.createElement('input');\n  input.type = 'hidden';\n  input.name = key;\n  input.value = JSON.stringify(value);\n  return input;\n}\n\nfunction createForm({ action, status, payload = null }) {\n  const form = document.createElement('form');\n  form.method = 'POST';\n  form.action = action;\n\n  const { ok, result, resultcode } = status;\n  form.appendChild(createInput('ok', ok));\n  form.appendChild(createInput('result', result));\n  form.appendChild(createInput('resultcode', resultcode));\n\n  if (payload) {\n    form.appendChild(createInput('body', payload));\n  }\n  document.body.appendChild(form);\n  return form;\n}\n\nconst signup = (() => {\n  function cancel(endpoint) {\n    const form = createForm({\n      action: endpoint,\n      status: {\n        ok: false,\n        result: 'CANCELED',\n        resultcode: -1,\n      },\n    });\n    form.submit();\n  }\n\n  function send(endpoint, { id, password }) {\n    const form = createForm({\n      action: endpoint,\n      status: {\n        ok: true,\n        result: 'AGREED',\n        resultcode: 1,\n      },\n      payload: { id, password },\n    });\n    form.submit();\n  }\n  return {\n    cancel, send,\n  };\n})();\n*/\nexport default HttpPoster;\n","import vschema from 'value-schema'; // eslint-disable-line import/no-extraneous-dependencies\r\n\r\nexport default {\r\n  Type: vschema.string({\r\n    only: ['signup', 'signin'],\r\n  }),\r\n  RedirectURI: vschema.string({\r\n    pattern: vschema.STRING.PATTERN.URI,\r\n    trims: true,\r\n    maxLength: 255,\r\n  }),\r\n  ID: vschema.string({\r\n    trims: true,\r\n    maxLength: 31,\r\n  }),\r\n  Scope: vschema.array({\r\n    separatedBy: ',',\r\n    toArray: true,\r\n    each: {\r\n      schema: vschema.string({\r\n        only: [\r\n          'none',\r\n          'fullname',\r\n          'nickname',\r\n          'phonenumber',\r\n          'birthday',\r\n          'postcode',\r\n          'address',\r\n          'email',\r\n        ],\r\n      }),\r\n    },\r\n  }),\r\n};\r\n","import { render } from \"./SignInView.vue?vue&type=template&id=3affa8da\"\nimport script from \"./SignInView.vue?vue&type=script&lang=js\"\nexport * from \"./SignInView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div className=\"SignUp\">\r\n    <AppMainHeader title=\"SignUp\"/>\r\n    <p>Reception ID: {{ id }}</p>\r\n    <p>Check: {{ (check) ? 'OK' : 'ERROR' }}</p>\r\n    <LinkFieldShow :fields='req' :key=\"req\" />\r\n    よければ、ファイルを選択\r\n    <SelectRecents />\r\n    <DecryptButton @ondecrypted='getService' />\r\n    <h3>リクエスト内容</h3>\r\n    <pre>\r\n      {{ req }}\r\n    </pre>\r\n    <h3>作成するアカウント</h3>\r\n    <pre>\r\n      {{ newAccount }}\r\n    </pre>\r\n    <h3>送信する情報</h3>\r\n      {{ postData }}\r\n    <button @click=\"recordeNewData\">この内容でアカウントを作成する</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vs from 'value-schema';\r\nimport AppMainHeader from '@/components/AppMainHeader.vue';\r\nimport SelectRecents from '@/components/SelectRecents.vue';\r\nimport LinkFieldShow from '@/components/LinkFieldShow.vue';\r\nimport DecryptButton from '@/components/DecryptButton.vue';\r\nimport signupvs from '@/formats/signup.vschema.js';\r\nimport genPassword from '@/lib/random.js';\r\nimport HttpPoster from '@/lib/http-poster.js';\r\n\r\n// エージェント URL\r\nconst ENDPOINT = 'https://script.google.com/macros/s/'\r\n  + 'AKfycbyUVtwxdl5rHLM1TTeLsSVidti3OdsHZQVEH1D_Z7hpFNwQ_CPK_Gi0WlUC7Dki7IJQ/exec';\r\n\r\nexport default {\r\n  name: 'SignUpView',\r\n  components: {\r\n    AppMainHeader,\r\n    SelectRecents,\r\n    LinkFieldShow,\r\n    DecryptButton,\r\n  },\r\n  data() {\r\n    return {\r\n      /** @type {string} 受付ID */\r\n      id: null,\r\n      /** @type {{redirect_uri: string, scope: string[], type: string,\r\n       * self_request_auth_value: string, self_request_auth: string,\r\n       * requester_id: string}}\r\n       * Link Request オプション */\r\n      req: null,\r\n      /** @type {boolean} ID 検証結果 */\r\n      check: false,\r\n      /** @type {{ id: string, password: string }|null} 作成した認証情報 */\r\n      newAccount: null,\r\n      /** @type {object|null} 送信情報 */\r\n      postData: {\r\n        identity: null,\r\n        credential: null,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * ファイルの複合化が終わったら呼ばれる.\r\n     * state.editor から xmlobject に XML コンテンツを移動\r\n     * Resuester ID から Service を取得する\r\n     */\r\n    async getService() {\r\n      const rqID = this.req.ID;\r\n\r\n      if (!this.$store.getters['datastore/isEmptyData']) {\r\n        // Data ありのとき: アカウントの所持を確認\r\n        const { xobject } = this.$store.getters['datastore/editorState'];\r\n        this.$store.commit('xmlobject/putXmlObject', xobject);\r\n        const service = this.$store.getters['xmlobject/getServiceById'](rqID);\r\n        if (service) {\r\n          // アカウントあり\r\n          const consent = this.$dialog.confirm({\r\n            message: 'アカウントをすでに持っているようです. サインインするために、元のウェブサービスに戻りますか?',\r\n          });\r\n          if (consent) {\r\n            const poster = new HttpPoster(this.req.RedirectURI);\r\n            poster.postWithJSON(HttpPoster.RESULT.CANCELED);\r\n            window.location.href = this.req.RedirectURI;\r\n            return;\r\n          }\r\n          this.$log.info('キャンセルされました');\r\n          return;\r\n        }\r\n      } else {\r\n        // Data なしのとき: xmlobject store を初期化\r\n        this.$store.commit('xmlobject/initXmlObject');\r\n      }\r\n\r\n      this.onNewService();\r\n    },\r\n    /**\r\n     * getService でアカウント情報がないとき、新規サービスを登録する\r\n     */\r\n    onNewService() {\r\n      const id = this.req.ID; // Resuester ID\r\n      this.$store.dispatch('xmlobject/addService', { id });\r\n      this.createAccount();\r\n    },\r\n    /**\r\n     * アカウント情報を作成し、newAccount に保存する\r\n     */\r\n    createAccount() {\r\n      this.newAccount = {\r\n        id: 'hogehoge',\r\n        password: genPassword(),\r\n      };\r\n    },\r\n    /**\r\n     * サインアップ情報を datastore/editorState におく\r\n     */\r\n    async recordeNewData() {\r\n      const createdAccount = this.newAccount;\r\n      if (!createdAccount) return;\r\n      this.$store.dispatch('xmlobject/addCredential', {\r\n        id: this.req.ID, credential: createdAccount,\r\n      });\r\n      const xmlObject = this.$store.getters['xmlobject/xmlObject'];\r\n      this.$store.commit('datastore/putEditor', {\r\n        xobject: xmlObject,\r\n      });\r\n      this.$store.commit('datastore/modified');\r\n      const password = await this.$dialog\r\n        .prompt({ message: 'Enter PASSPHRASE for Data Encrypt' });\r\n      await this.$store.dispatch('datastore/encryptContent', { password });\r\n      if (await this.$dialog.confirm({ message: 'リダイレクトします' })) {\r\n        this.doRedirect();\r\n      } else {\r\n        this.$log.info('キャンセルされました');\r\n      }\r\n    },\r\n    async doRedirect() {\r\n      const createdAccount = this.newAccount;\r\n      const poster = new HttpPoster(this.req.RedirectURI);\r\n      poster.postWithJSON(HttpPoster.RESULT.AGREED, {\r\n        credential: createdAccount,\r\n        info: this.personalInfo,\r\n      });\r\n      window.location.href = this.req.RedirectURI;\r\n    },\r\n  },\r\n  watch: {\r\n    async req(next) {\r\n      this.$log.debug('Requestオプション(req) アップデート', next);\r\n      try {\r\n        if ('error' in next) throw next.error;\r\n        vs.applySchemaObject(signupvs, next);\r\n        this.check = true;\r\n      } catch (err) {\r\n        this.$log.info(err);\r\n        this.check = false;\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    const logger = this.$log;\r\n    logger.info('Endpoint', ENDPOINT);\r\n    // 受付 ID 入力\r\n    this.id = this.$route.params.id;\r\n    /**\r\n     * エージェントから Link Request を取得する\r\n     * @param {string} 受付ID\r\n     * @returns {{\r\n      * RedirectURI: string, Scope: string[], Type: string,\r\n      * ID: string\r\n     * }|null}\r\n     */\r\n    this.req = await (async (id) => {\r\n      try {\r\n        const response = await fetch(`${ENDPOINT}?reception_id=${id}`);\r\n        /**\r\n         * @type {{\r\n          * redirect_uri: string, scope: string[], type: string,\r\n          * self_request_auth_value: string, self_request_auth: string,\r\n          * requester_id: string\r\n         * }}\r\n         */\r\n        const data = await response.json();\r\n        logger.debug('リクエストデータ', data);\r\n        return {\r\n          RedirectURI: data.redirect_uri,\r\n          Scope: data.scope,\r\n          Type: data.type,\r\n          ID: data.requester_id,\r\n        };\r\n      } catch (error) {\r\n        logger.info(error);\r\n        return null;\r\n      }\r\n    })(this.id);\r\n  },\r\n};\r\n\r\n</script>\r\n","// const crypto = require('crypto');\r\n\r\n// const keygen = require(\"keygenerator\");\r\n// import { generate } from 'generate-password';\r\n// const generatePassword = require('generate-password');\r\n// const ULID = require('ulid');\r\n\r\nfunction genPassword() {\r\n  const letters = 'abcdefghijklmnopqrstuvwxyz';\r\n  const numbers = '0123456789';\r\n\r\n  const string = letters + letters.toUpperCase() + numbers;\r\n\r\n  const len = 8; // 8文字\r\n  let password = ''; // 文字列が空っぽという定義をする\r\n\r\n  /* eslint-disable-next-line no-plusplus */\r\n  for (let i = 0; i < len; i++) {\r\n    password += string.charAt(Math.floor(Math.random() * string.length));\r\n  }\r\n  return password;\r\n}\r\n\r\n// module.exports.ulid = () => {\r\n//   return ULID.ulid();\r\n// }\r\n\r\nexport default genPassword;\r\n","import { render } from \"./SignUpView.vue?vue&type=template&id=1dc421b2\"\nimport script from \"./SignUpView.vue?vue&type=script&lang=js\"\nexport * from \"./SignUpView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div className=\"start\">\r\n    <AppMainHeader title=\"Start\"/>\r\n    <section>\r\n      <ol>\r\n        <li>\r\n          まず初めに、ローカルファイルを作成します.<br>\r\n          \"ファイルを作成する\" を押すと、任意の名前でファイルがあなたのデバイスに作成されます.\r\n          ファイル名の初期値は \"My-Account-Store.txt\" です.<br>\r\n          <CreateDatastore label='ファイルを作成する' />\r\n        </li>\r\n        <li>\r\n          \"Enter new PASSPHRASE for Data Encrypt\" とプロンプトが表示されます.\r\n          これは、ファイルの中の個人的なデータを暗号化するために使用されます.\r\n          任意の文字列を入力してください.<br>\r\n          ここで入力した値は、次にファイルを複合化するときだけ、必要になります.\r\n        </li>\r\n        <li>\r\n          Start のステップはすべて完了しました.\r\n          ファイルデータを確認および編集するためには、<router-link to='/view'>View</router-link>にアクセスしてください.\r\n        </li>\r\n      </ol>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CreateDatastore from '@/components/CreateDatastore.vue';\r\nimport AppMainHeader from '@/components/AppMainHeader.vue';\r\n\r\nexport default {\r\n  name: 'StartView',\r\n  components: {\r\n    CreateDatastore, AppMainHeader,\r\n  },\r\n  methods: {},\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","<template>\r\n  <div class=\"create-datastore\">\r\n    <button @click=\"createFile\">{{ label }}</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CreateDatastore',\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: 'Create Datastore',\r\n    },\r\n  },\r\n  methods: {\r\n    async createFile() {\r\n      try {\r\n        const createRes = await this.$store.dispatch('datastore/createFile');\r\n        this.$log.debug('result: datastore/createFile', createRes);\r\n        const isInit = await this.$dialog.confirm({ message: 'ファイルを初期化しますか?' });\r\n        if (isInit) {\r\n          const initRes = await this.$store.dispatch('datastore/initializeFile');\r\n          this.$log.debug('datastore/initializeFile', initRes);\r\n        }\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    const recentFiles = await (await this.$store.dispatch('datastore/fetch')).recentFiles();\r\n    console.log('recentFiles', recentFiles);\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\nbutton {\r\n  font-size: 1rem;\r\n  width: 200px;\r\n  padding: .2rem 1rem;\r\n  &:hover {\r\n    box-shadow: 0 3px 5px rgba(0, 0, 0, .3);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CreateDatastore.vue?vue&type=template&id=01ba7c3c&scoped=true\"\nimport script from \"./CreateDatastore.vue?vue&type=script&lang=js\"\nexport * from \"./CreateDatastore.vue?vue&type=script&lang=js\"\n\nimport \"./CreateDatastore.vue?vue&type=style&index=0&id=01ba7c3c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-01ba7c3c\"]])\n\nexport default __exports__","import { render } from \"./StartView.vue?vue&type=template&id=88cd90a8\"\nimport script from \"./StartView.vue?vue&type=script&lang=js\"\nexport * from \"./StartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div className=\"servicegen\">\r\n    <AppMainHeader title=\"Service Generator\" />\r\n    <div>\r\n      <label for='req_requester_id'>\r\n        Requester ID (Service ID)\r\n        <input type='text' name='req_requester_id' id=\"req_requester_id\"\r\n          value='{{reqId}}' v-model='reqId' />\r\n      </label>\r\n      <button type='button' @click='generateRequesterId'>生成</button>\r\n    </div>\r\n\r\n    <div>\r\n      Scope:\r\n      <label for='req_scope'>\r\n        <select name='req_scope' id=\"req_scope\" multiple\r\n          v-model='reqScope'>\r\n          <option value='fullname'>fullname</option>\r\n          <option value='nickname'>nickname</option>\r\n          <option value='email'>email</option>\r\n        </select>\r\n      </label>\r\n      {{reqScope}}\r\n    </div>\r\n    <div>\r\n      <button type='button' @click='submitService'>サーバーに送信</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppMainHeader from '@/components/AppMainHeader.vue';\r\nimport generateRandomId from '@/lib/generate-random-id';\r\n\r\nexport default {\r\n  name: 'ServiceGenView',\r\n  props: ['mode'],\r\n  components: {\r\n    AppMainHeader,\r\n  },\r\n  data() {\r\n    return {\r\n      reqId: '',\r\n      reqScope: [],\r\n    };\r\n  },\r\n  methods: {\r\n    generateRequesterId() {\r\n      this.reqId = generateRandomId();\r\n    },\r\n    async submitService() {\r\n      const requestBody = {\r\n        type: 'signup',\r\n        redirect_uri: 'http://localhost:8080/sg/redirect',\r\n        requester_id: this.reqId,\r\n        scope: this.reqScope,\r\n        self_request_auth: 'temp_token',\r\n        self_request_auth_value: '123456',\r\n      };\r\n\r\n      if (requestBody.requester_id === '') {\r\n        this.$dialog.alert({ message: 'Requester ID (Client ID) が設定されていません' });\r\n        return;\r\n      }\r\n\r\n      console.log(requestBody);\r\n\r\n      const confirmMessage = `次の内容を送信します. よろしいですか?\\n${JSON.stringify(requestBody)}`;\r\n      if (!this.$dialog.confirm({ message: confirmMessage })) return;\r\n      const receptionId = await (async () => {\r\n        try {\r\n          const ENDPOINT = 'https://script.google.com/macros/s/AKfycbyUVtwxdl5rHLM1TTeLsSVidti3OdsHZQVEH1D_Z7hpFNwQ_CPK_Gi0WlUC7Dki7IJQ/exec';\r\n          // const ENDPOINT = 'https://script.google.com/macros/s/AKfycbyUVtwxdl5rHLM1TTeLsSVidti3OdsHZQVEH1D_Z7hpFNwQ_CPK_Gi0WlUC7Dki7IJQ/exec';\r\n          const body = new FormData();\r\n          const keys = Object.keys(requestBody);\r\n          keys.forEach((key) => {\r\n            body.append(key, requestBody[key]);\r\n          });\r\n          const response = await fetch(ENDPOINT, {\r\n            method: 'POST',\r\n            body,\r\n          });\r\n          const resdata = await response.json();\r\n          console.log('resdata', resdata);\r\n          return resdata.reception_id;\r\n        } catch (error) {\r\n          console.error(error);\r\n          return null;\r\n        }\r\n      })();\r\n      if (receptionId) {\r\n        this.$router.push(`/signup/${receptionId}`);\r\n      }\r\n    },\r\n    async test() {\r\n      (await this.$dialog.alert({ message: 'ok?' }));\r\n    },\r\n  },\r\n};\r\n</script>\r\n","/* eslint-disable */\n\n/**\n * \"blue-cat\" のように {形容詞-名詞} のランダムな文字列を生成する\n * @returns {String} 生成されたランダムなID\n */\n\nfunction generateRandomId() {\n  const adjectives = [\n    'red', 'blue', 'energetic', 'small', 'new',\n    'happy', 'fast', 'bright', 'warm', 'cool',\n    'calm', 'brave', 'clever', 'elegant', 'funny',\n    'gentle', 'jolly', 'kind', 'lively', 'mellow',\n    'sunny', 'vivid', 'mysterious', 'vibrant', 'dynamic',\n    'sparkling', 'glistening', 'serene', 'joyful', 'dazzling',\n    'radiant', 'zesty', 'exquisite', 'whimsical', 'playful',\n    'soothing', 'vital', 'gleaming', 'effervescent', 'blissful',\n    'captivating', 'serendipitous', 'stellar', 'splendid', 'effortless'\n  ];\n\n  const nouns = [\n    'cat', 'mountain', 'book', 'sea', 'star',\n    'dog', 'tree', 'river', 'moon', 'sun',\n    'flower', 'bird', 'cloud', 'wave', 'island',\n    'bridge', 'castle', 'planet', 'rainbow', 'unicorn',\n    'ocean', 'breeze', 'crystal', 'dream', 'harmony',\n    'whisper', 'echo', 'garden', 'horizon', 'zenith',\n    'cascade', 'jubilee', 'lagoon', 'melody', 'nectar',\n    'oracle', 'quasar', 'radiance', 'sapphire', 'tempest',\n    'veranda', 'wonder', 'yonder', 'zenith', 'enigma'\n  ];\n\n  function getRandomElement(array) {\n    return array[Math.floor(Math.random() * array.length)];\n  }\n\n  function generateId() {\n    const adjective = getRandomElement(adjectives);\n    const noun = getRandomElement(nouns);\n\n    const generatedId = `${adjective}-${noun}`;\n    return generatedId;\n  }\n\n  return generateId();\n}\n\nexport default generateRandomId;\n","import { render } from \"./ServiceGenView.vue?vue&type=template&id=16da93f2\"\nimport script from \"./ServiceGenView.vue?vue&type=script&lang=js\"\nexport * from \"./ServiceGenView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div className=\"config\">\r\n    <AppMainHeader title=\"Config\"/>\r\n    <div>\r\n      <p>\r\n        各種設定.\r\n      </p>\r\n      <button @click=\"clearIndexDB\">Clear IndexedDB</button>\r\n      <button @click=\"clearLocalStorage\">Clear Local Storage</button>\r\n      <button @click=\"doSelectFile\">Select File</button>\r\n      <button @click=\"doCreateFile\">Create File</button>\r\n      <button @click=\"doInitFile\">Init File</button>\r\n      <button @click=\"doGetContent\">Get Content</button>\r\n      <button @click=\"doEncryptContent\">Encrypt Content</button>\r\n      <button @click=\"doDecryptContent\">Decrypt Content</button>\r\n      <button @click=\"doPutContentMan\">Put Content Manually</button>\r\n      <button @click=\"doCommitFile\">Commit File</button>\r\n      <button @click=\"doCheckUp\">Check Up</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { clear } from 'idb-keyval';\r\nimport AppMainHeader from '@/components/AppMainHeader.vue';\r\nimport webStorage from '@/lib/webstorage';\r\n\r\nexport default {\r\n  name: 'ContentView',\r\n  components: {\r\n    AppMainHeader,\r\n  },\r\n  methods: {\r\n    async doSelectFile() {\r\n      try {\r\n        const result = await this.$store.dispatch('datastore/selectFile');\r\n        this.$log.info('doSelectFile', result);\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n    async doCreateFile() {\r\n      try {\r\n        const result = await this.$store.dispatch('datastore/createFile');\r\n        this.$log.info('doCreateFile', result);\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n    async doInitFile() {\r\n      try {\r\n        const result = await this.$store.dispatch('datastore/initializeFile');\r\n        this.$log.info('doInitFile', result);\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n    async doGetContent() {\r\n      try {\r\n        const result = await this.$store.dispatch('datastore/getFileContent');\r\n        this.$log.info('doGetContent', result);\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n    async doEncryptContent() {\r\n      try {\r\n        const content = await this.$store.dispatch('datastore/getFileContent');\r\n        if (typeof content.data === 'string' && content.data === '') throw new Error('No data');\r\n        const passwd = await this.$dialog.prompt({ message: 'Input pass for ENcrypt' });\r\n        const result = await this.$store.dispatch('datastore/encryptContent', passwd);\r\n        this.$log.info('doEncryptContent', result);\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n    async doDecryptContent() {\r\n      try {\r\n        const content = await this.$store.dispatch('datastore/getFileContent');\r\n        if (typeof content.data === 'string' && content.data === '') throw new Error('No data');\r\n        const passwd = await this.$dialog.prompt({ message: 'Input pass for DEcrypt' });\r\n        const result = await this.$store.dispatch('datastore/decryptContent', passwd);\r\n        this.$log.info('Decrypt Success!!, doDecryptContent:', result);\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n    async doPutContentMan() {\r\n      try {\r\n        const fileContent = await this.$store.dispatch('datastore/getFileContent');\r\n        let privateData;\r\n        if (fileContent.data !== '') {\r\n          const passwd = await this.$dialog.prompt({ message: 'Input pass for DEcrypt' });\r\n          privateData = await this.$store.dispatch('datastore/decryptContent', passwd);\r\n        } else {\r\n          privateData = {\r\n            services: [],\r\n          };\r\n        }\r\n        const servId = await this.$dialog.prompt({ message: 'Input Service ID' });\r\n        const key = await this.$dialog.prompt({ message: 'Input Key' });\r\n        const value = await this.$dialog.prompt({ message: 'Input Value' });\r\n        const consent = await this.$dialog.confirm({ message: `[SID] \"${servId}\"\\n[Key] \"${key}\"\\n[Value] ${value}\\nOK?` });\r\n        if (consent) {\r\n          const idx = privateData.services.indexOf(servId);\r\n          if (idx === -1) privateData.services.push({ [key]: value });\r\n          else privateData.services[idx][key] = value;\r\n          const result = await this.$store.dispatch('datastore/putPrivateData', privateData);\r\n          this.$log.info('doPutContentMan', result);\r\n        } else {\r\n          this.$log.info('PutContent is canceled');\r\n        }\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n    async doCommitFile() {\r\n      try {\r\n        if (await this.$dialog.confirm({ message: 'Commit OK?' })) {\r\n          const result = await this.$store.dispatch('datastore/commitFile');\r\n          this.$log.info(result);\r\n        } else {\r\n          this.$log.info('CommitFile is canceled');\r\n        }\r\n      } catch (error) {\r\n        this.$log.info(error);\r\n      }\r\n    },\r\n    doCheckUp() {\r\n      webStorage.keys().forEach((key) => this.$log.info(`WebStorage[${key}]`, webStorage.get(key)));\r\n      this.$log.info('State', 'file', this.$store.getters['datastore/fileState']);\r\n      this.$log.info('State', 'Key', this.$store.getters['datastore/fileKey']);\r\n      this.$store.commit('datastore/_pullFileIds');\r\n      this.$log.info('State', 'fileIds', this.$store.getters['datastore/fileIds']);\r\n      this.$store.commit('datastore/_pullRecentFiles');\r\n      this.$log.info('State', 'recentFiles', this.$store.getters['datastore/recentFiles']);\r\n    },\r\n    async clearIndexDB() {\r\n      clear();\r\n      this.$log.info('IndexedDB is cleared');\r\n    },\r\n    async clearLocalStorage() {\r\n      await webStorage.clear();\r\n      this.$log.info('LocalStorage is cleared');\r\n    },\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .selected-file-name-view {\r\n    color: white;\r\n    background-color: black;\r\n    padding: 4px 6px;\r\n  }\r\n</style>\r\n","const DatabaseName = 'hashedpotato';\r\n\r\nconst logger = (message, ...args) => console\r\n  .debug('[database] @', DatabaseName, '=>', message, args);\r\n\r\nconst webStorage = ((dbname) => {\r\n  let database;\r\n  const saveDatabase = () => {\r\n    if (database !== undefined) {\r\n      localStorage.setItem(dbname, JSON.stringify(database));\r\n      logger('saved', database);\r\n    }\r\n  };\r\n  const getDatabase = () => {\r\n    if (!database) database = JSON.parse(localStorage.getItem(dbname) ?? '{}');\r\n    return database;\r\n  };\r\n  const get = (key, ifUndefined) => getDatabase()[key] ?? ifUndefined;\r\n  const set = (key, value) => {\r\n    database[key] = value;\r\n    logger('set', key, value);\r\n    saveDatabase();\r\n  };\r\n  const del = (key) => {\r\n    delete database[key];\r\n    saveDatabase(key);\r\n  };\r\n  const clear = () => {\r\n    localStorage.removeItem(dbname);\r\n    database = undefined;\r\n  };\r\n  const clearAll = () => localStorage.clear();\r\n  const keys = () => {\r\n    if (!database) database = JSON.parse(localStorage.getItem(dbname) ?? '{}');\r\n    return Object.keys(database);\r\n  };\r\n\r\n  // 初期化\r\n  (() => {\r\n    if (!localStorage.getItem(dbname)) {\r\n      console.info(`There is no database named \"${dbname}\"`);\r\n      localStorage.setItem(dbname, '{}');\r\n      console.info(`A database named \"${dbname}\" has been created.`);\r\n    }\r\n    database = getDatabase();\r\n    logger('Initial', database);\r\n  })();\r\n\r\n  return {\r\n    get, set, del, clear, clearAll, keys,\r\n  };\r\n})(DatabaseName);\r\n\r\nexport default webStorage;\r\n","import { render } from \"./ConfigView.vue?vue&type=template&id=14161e1d&scoped=true\"\nimport script from \"./ConfigView.vue?vue&type=script&lang=js\"\nexport * from \"./ConfigView.vue?vue&type=script&lang=js\"\n\nimport \"./ConfigView.vue?vue&type=style&index=0&id=14161e1d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-14161e1d\"]])\n\nexport default __exports__","<template>\r\n  <div className=\"dev\">\r\n    <AppMainHeader title=\"Dev\"/>\r\n    <section>\r\n      <h2>Menu</h2>\r\n      <nav>\r\n        <ul>\r\n          <li><router-link to=\"/link\">Link</router-link></li>\r\n          <li><router-link to=\"/pubkey\">Pubkey</router-link></li>\r\n          <li><router-link to=\"/sg\">SrvGen</router-link></li>\r\n        </ul>\r\n      </nav>\r\n    </section>\r\n    <SelectRecents />\r\n    <button @click=\"doCheckUp\">Check Up</button>\r\n    <button @click=\"doDecrypt\">複合化</button>\r\n    <button @click=\"doEncrypt\">暗号化</button>\r\n    <XMLEditor :xmlstring=\"xmlString\" :key=\"editorKey\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppMainHeader from '@/components/AppMainHeader.vue';\r\nimport XMLEditor from '@/components/XMLEditor.vue';\r\nimport SelectRecents from '@/components/SelectRecents.vue';\r\nimport webStorage from '@/lib/webstorage';\r\nimport { keys as keysIDB, get as getIDB } from 'idb-keyval';\r\n\r\nexport default {\r\n  name: 'DevelopperView',\r\n  components: {\r\n    AppMainHeader, SelectRecents, XMLEditor,\r\n  },\r\n  data() {\r\n    return {\r\n      xmlString: '',\r\n      editorKey: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async doCheckUp() {\r\n      this.$log.info('WebStorage Keys:', webStorage.keys());\r\n      webStorage.keys().forEach((key) => {\r\n        this.$log.info('WebStorage [', key, ']', webStorage.get(key));\r\n      });\r\n      this.$log.info('FileState', this.$store.getters['datastore/fileState']);\r\n      this.$log.info('keysIDB', await keysIDB());\r\n      Promise.all(\r\n        (await keysIDB()).map(async (key) => {\r\n          this.$log.info('WebStorage [', key, ']', await getIDB(key));\r\n        }),\r\n      );\r\n    },\r\n    async doDecrypt() {\r\n      const { handle } = this.$store.getters['datastore/fileState'];\r\n      if (!handle) return;\r\n      const password = await this.$dialog.prompt({ message: 'Enter PASSPHRASE for Data Decrypt' });\r\n      try {\r\n        const { xtext, xobject } = await this.$store.dispatch('datastore/decryptContent', { password });\r\n        this.$log.debug('decResult', { xtext, xobject });\r\n        this.xmlString = xtext;\r\n      } catch (error) {\r\n        this.$log.info('decResult', error);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    xmlString() {\r\n      this.editorKey += 1;\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.$store.watch(\r\n      (state, getters) => getters['datastore/fileState'],\r\n      ({ handle }) => {\r\n        if (handle) {\r\n          this.currentFileName = handle.name;\r\n        }\r\n      },\r\n    );\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","<template>\r\n  <div class=\"xml-editor XMLEditor\">\r\n    <div class=\"XMLEditor__view\">\r\n      <label for=\"xml-editor-view\">\r\n        <textarea id=\"xml-editor-view\" class=\"xml-editor-view\" name=\"xml-editor-view\"\r\n          v-model=\"xdata\"></textarea>\r\n      </label>\r\n    </div>\r\n    <div class=\"XMLEditor__menu\">\r\n      <button @click=\"doFormat\">\r\n        <span><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d=\"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z\"/></svg></span>\r\n        <span>フォーマット</span>\r\n      </button>\r\n      <button @click=\"doSave\" class=\"XMLEditor__saveBtn\">\r\n        <span><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d=\"M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z\"/></svg></span>\r\n        <span>保存</span>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport xmlFormat from 'xml-formatter';\r\n\r\nexport default {\r\n  name: 'ContentView',\r\n  components: {\r\n  },\r\n  props: {\r\n    xmlstring: {\r\n      type: String,\r\n      deafult: '',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      xdataPutFlag: false, // xdata の watcher 用\r\n      xdata: '',\r\n      lineLenght: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    doFormat() {\r\n      if (this.xdata === '') return;\r\n      this.xdataPutFlag = false; // xdata の watcher 対策\r\n      this.xdata = xmlFormat(this.xdata);\r\n    },\r\n    async doSave() {\r\n      const { handle } = this.$store.getters['datastore/fileState'];\r\n      if (!handle) return;\r\n      if (!this.$store.getters['datastore/isFileModified']) {\r\n        // 未編集のとき\r\n        this.$log.debug('未編集です');\r\n        return;\r\n      }\r\n      await this.$store.commit('datastore/putEditor', { xtext: this.xdata });\r\n      const password = await this.$dialog.prompt({ message: 'Enter PASSPHRASE for Data Encrypt' });\r\n      try {\r\n        const encResult = await this.$store.dispatch('datastore/encryptContent', { password });\r\n        this.$log.debug('encResult', encResult);\r\n      } catch (error) {\r\n        this.$log.info('encResult', error);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    xdata(next) {\r\n      if (!this.xdataPutFlag) {\r\n        // 1回目の変更イベントは、contents を表示したときのものなのでmodifiedは変更しない\r\n        // また、フォーマットボタンを押したときの変更イベントもmodifiedは変更しない\r\n        this.xdataPutFlag = true;\r\n      } else {\r\n        this.$store.commit('datastore/modified');\r\n      }\r\n      this.$log.debug('xdata', next);\r\n      this.lineLenght = (next.match(/\\n/g) || []).length + 1;\r\n    },\r\n    lineLenght(next) {\r\n      this.$log.debug('lineLenght', next);\r\n      document.querySelector('#xml-editor-view').rows = next;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.xdata = this.xmlstring;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"@/assets/styles/mediaquery.scss\" as m;\r\n@use \"@/assets/styles/color.scss\" as c;\r\n\r\n.XMLEditor {\r\n  position: relative;\r\n  &__view {\r\n    display: inline-block;\r\n    width: calc(100% - 2px); // -border\r\n\r\n    textarea {\r\n      font-size: 1.2rem;\r\n      line-height: 1.8;\r\n      padding: .3rem;\r\n      width: calc(100% - .6rem); // -padding\r\n    }\r\n  }\r\n  &__menu {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    button {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 1rem;\r\n      font-size: 1rem;\r\n      width: 200px;\r\n      padding: .2rem 1rem;\r\n      span {\r\n        svg {\r\n          width: 1rem;\r\n        }\r\n      }\r\n      // color: #fff;\r\n      // background-color: #eb6100;\r\n      // border-bottom: 5px solid #b84c00;\r\n      //   -webkit-box-shadow: 0 3px 5px rgba(0, 0, 0, .3);\r\n      // box-shadow: 0 3px 5px rgba(0, 0, 0, .3);\r\n\r\n      // &:hover {\r\n      //   margin-top: 3px;\r\n      //   color: #fff;\r\n      //   background: #f56500;\r\n      //   border-bottom: 2px solid #b84c00;\r\n      // }\r\n    }\r\n  }\r\n  &__saveBtn {\r\n    color: c.cp('blue');\r\n  }\r\n  button {\r\n    &:hover {\r\n      box-shadow: 0 3px 5px rgba(0, 0, 0, .3);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./XMLEditor.vue?vue&type=template&id=d35f8620&scoped=true\"\nimport script from \"./XMLEditor.vue?vue&type=script&lang=js\"\nexport * from \"./XMLEditor.vue?vue&type=script&lang=js\"\n\nimport \"./XMLEditor.vue?vue&type=style&index=0&id=d35f8620&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d35f8620\"]])\n\nexport default __exports__","import { render } from \"./DevelopperView.vue?vue&type=template&id=22516060\"\nimport script from \"./DevelopperView.vue?vue&type=script&lang=js\"\nexport * from \"./DevelopperView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div className=\"content-editor\">\r\n    <AppMainHeader title=\"Content Editor\"/>\r\n    <p>\r\n      ファイル内容の参照および編集ができます.\r\n    </p>\r\n    <div>\r\n      <SelectRecents />\r\n      <button @click=\"doCheckUp\">Check Up</button>\r\n      <button @click=\"doDecrypt\">複合化</button>\r\n    </div>\r\n    <div>\r\n      <XMLEditor :xmlstring=\"xmlString\" :key=\"editorKey\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppMainHeader from '@/components/AppMainHeader.vue';\r\nimport XMLEditor from '@/components/XMLEditor.vue';\r\nimport SelectRecents from '@/components/SelectRecents.vue';\r\nimport webStorage from '@/lib/webstorage';\r\nimport { keys as keysIDB, get as getIDB } from 'idb-keyval';\r\n\r\nexport default {\r\n  name: 'ContentEditorView',\r\n  components: {\r\n    AppMainHeader, SelectRecents, XMLEditor,\r\n  },\r\n  data() {\r\n    return {\r\n      xmlString: '',\r\n      editorKey: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async doCheckUp() {\r\n      this.$log.info('WebStorage Keys:', webStorage.keys());\r\n      webStorage.keys().forEach((key) => {\r\n        this.$log.info('WebStorage [', key, ']', webStorage.get(key));\r\n      });\r\n      this.$log.info('FileState', this.$store.getters['datastore/fileState']);\r\n      this.$log.info('keysIDB', await keysIDB());\r\n      Promise.all(\r\n        (await keysIDB()).map(async (key) => {\r\n          this.$log.info('WebStorage [', key, ']', await getIDB(key));\r\n        }),\r\n      );\r\n    },\r\n    async doDecrypt() {\r\n      const { handle } = this.$store.getters['datastore/fileState'];\r\n      if (!handle) return;\r\n      const password = await this.$dialog.prompt({ message: 'Enter PASSPHRASE for Data Decrypt' });\r\n      try {\r\n        const { xtext, xobject } = await this.$store.dispatch('datastore/decryptContent', { password });\r\n        this.$log.debug('decResult', { xtext, xobject });\r\n        this.xmlString = xtext;\r\n      } catch (error) {\r\n        this.$log.info('decResult', error);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    xmlString() {\r\n      this.editorKey += 1;\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.$store.watch(\r\n      (state, getters) => getters['datastore/fileState'],\r\n      ({ handle }) => {\r\n        if (handle) {\r\n          this.currentFileName = handle.name;\r\n        }\r\n      },\r\n    );\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  button {\r\n    font-size: 1rem;\r\n    width: 200px;\r\n    padding: .2rem 1rem;\r\n    &:hover {\r\n      box-shadow: 0 3px 5px rgba(0, 0, 0, .3);\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./ContentEditorView.vue?vue&type=template&id=663be882&scoped=true\"\nimport script from \"./ContentEditorView.vue?vue&type=script&lang=js\"\nexport * from \"./ContentEditorView.vue?vue&type=script&lang=js\"\n\nimport \"./ContentEditorView.vue?vue&type=style&index=0&id=663be882&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-663be882\"]])\n\nexport default __exports__","<template>\r\n  <div className=\"pubkey\">\r\n    <AppMainHeader title=\"Start\"/>\r\n    <div className=\"pubkey__form\">\r\n      <label for=\"sid\">\r\n        Service ID\r\n        <input type=\"text\" name=\"sid\" id=\"sid\"\r\n          v-model=\"sid\">\r\n      </label>\r\n      <label for=\"pub\">\r\n        Public Key\r\n        <input type=\"text\" name=\"pub\" id=\"pub\"\r\n          v-model=\"pub\">\r\n      </label>\r\n      <button type=\"submit\" @click=\"sendPubkey\">送信</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppMainHeader from '@/components/AppMainHeader.vue';\r\n\r\nexport default {\r\n  name: 'StartView',\r\n  components: {\r\n    AppMainHeader,\r\n  },\r\n  data() {\r\n    return {\r\n      sid: null,\r\n      pub: null,\r\n    };\r\n  },\r\n  methods: {\r\n    sendPubkey() {\r\n      if (!this.sid || !this.pub) return;\r\n      if (this.$dialog.confirm({ message: '登録しますか?' })) {\r\n        this.$log.log('ok');\r\n      }\r\n      this.$log.log('end sendPubkey');\r\n    },\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import { render } from \"./PubkeyView.vue?vue&type=template&id=4a67ba28\"\nimport script from \"./PubkeyView.vue?vue&type=script&lang=js\"\nexport * from \"./PubkeyView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// WebHistory Mode\r\n// import { createRouter, createWebHistory } from 'vue-router';\r\n\r\n// WebHashHistory Mode\r\nimport { createRouter, createWebHashHistory } from 'vue-router';\r\nimport IndexView from '@/views/IndexView.vue';\r\nimport SignInView from '@/views/SignInView.vue';\r\nimport SignUpView from '@/views/SignUpView.vue';\r\nimport StartView from '@/views/StartView.vue';\r\n// import ContentView from '@/views/ContentView.vue';\r\nimport ServiceGenView from '@/views/ServiceGenView.vue';\r\nimport ConfigView from '@/views/ConfigView.vue';\r\nimport DevelopperView from '@/views/DevelopperView.vue';\r\nimport ContentEditorView from '@/views/ContentEditorView.vue';\r\nimport PubkeyView from '@/views/PubkeyView.vue';\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'IndexPage',\r\n    component: IndexView,\r\n  },\r\n  {\r\n    path: '/start',\r\n    name: 'StartPage',\r\n    component: StartView,\r\n  },\r\n  {\r\n    path: '/config',\r\n    name: 'ConfigPage',\r\n    component: ConfigView,\r\n  },\r\n  {\r\n    path: '/dev',\r\n    name: 'DevelopperPage',\r\n    component: DevelopperView,\r\n  },\r\n  {\r\n    path: '/signin',\r\n    name: 'SignInPageWithoutID',\r\n    component: SignInView,\r\n    children: [\r\n      {\r\n        path: '/signin/:id',\r\n        name: 'SignInPage',\r\n        component: SignInView,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: '/signup',\r\n    name: 'SignUpPageWithoutID',\r\n    component: SignUpView,\r\n    children: [\r\n      {\r\n        path: '/signup/:id',\r\n        name: 'SignUpPage',\r\n        component: SignUpView,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: '/content',\r\n    name: 'ContentPage',\r\n    component: ContentEditorView,\r\n  },\r\n  {\r\n    path: '/sg',\r\n    name: 'SGPage',\r\n    component: ServiceGenView,\r\n    props: { mode: 'generate' },\r\n  },\r\n  {\r\n    path: '/sg/redirect',\r\n    name: 'SGRedirectPage',\r\n    component: ServiceGenView,\r\n    props: { mode: 'redirect' },\r\n  },\r\n  {\r\n    path: '/pubkey',\r\n    component: PubkeyView,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  // history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n});\r\n\r\nexport default router;\r\n","/**\r\n* Copyright 2019 Google LLC\r\n*\r\n* Licensed under the Apache License, Version 2.0 (the \"License\");\r\n* you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n*\r\n* http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing, software\r\n* distributed under the License is distributed on an \"AS IS\" BASIS,\r\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n* See the License for the specific language governing permissions and\r\n* limitations under the License.\r\n*/\r\n\r\n/* exported getFileHandle, getNewFileHandle, readFile, verifyPermission,\r\nwriteFile */\r\n\r\n/* eslint-disable */\r\n\r\n/**\r\n * Open a handle to an existing file on the local file system.\r\n *\r\n * @return {!Promise<FileSystemFileHandle>} Handle to the existing file.\r\n */\r\nfunction getFileHandle () {\r\n  // For Chrome 86 and later...\r\n  if ('showOpenFilePicker' in window) {\r\n    return window.showOpenFilePicker().then((handles) => handles[0]);\r\n  }\r\n  // For Chrome 85 and earlier...\r\n  return window.chooseFileSystemEntries();\r\n}\r\n\r\n/**\r\n * Create a handle to a new (text) file on the local file system.\r\n * @param {string} filename suggested filename\r\n * @return {!Promise<FileSystemFileHandle>} Handle to the new file.\r\n */\r\nfunction getNewFileHandle (filename) {\r\n  // For Chrome 86 and later...\r\n  if ('showSaveFilePicker' in window) {\r\n    const opts = {\r\n      types: [{\r\n        description: 'Data Store File (XML Document)',\r\n        accept: {'text/xml': ['.xml']},\r\n      }],\r\n      suggestedName: filename,\r\n    };\r\n    return window.showSaveFilePicker(opts);\r\n  }\r\n  // For Chrome 85 and earlier...\r\n  const opts = {\r\n    type: 'save-file',\r\n    accepts: [{\r\n      description: 'Text file',\r\n      extensions: ['txt'],\r\n      mimeTypes: ['text/plain'],\r\n    }],\r\n  };\r\n  return window.chooseFileSystemEntries(opts);\r\n}\r\n\r\n/**\r\n * Reads the raw text from a file.\r\n *\r\n * @param {File} file\r\n * @return {!Promise<string>} A promise that resolves to the parsed string.\r\n */\r\nfunction readFile (file) {\r\n  // If the new .text() reader is available, use it.\r\n  if (file.text) {\r\n    return file.text();\r\n  }\r\n  // Otherwise use the traditional file reading technique.\r\n  return _readFileLegacy(file);\r\n}\r\n\r\n/**\r\n * Reads the raw text from a file.\r\n *\r\n * @private\r\n * @param {File} file\r\n * @return {Promise<string>} A promise that resolves to the parsed string.\r\n */\r\nfunction _readFileLegacy (file) {\r\n  return new Promise((resolve) => {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('loadend', (e) => {\r\n      const text = e.srcElement.result;\r\n      resolve(text);\r\n    });\r\n    reader.readAsText(file);\r\n  });\r\n}\r\n\r\n/**\r\n * Writes the contents to disk.\r\n *\r\n * @param {FileSystemFileHandle} fileHandle File handle to write to.\r\n * @param {string} contents Contents to write.\r\n */\r\nasync function writeFile (fileHandle, contents) {\r\n  // Support for Chrome 82 and earlier.\r\n  if (fileHandle.createWriter) {\r\n    // Create a writer (request permission if necessary).\r\n    const writer = await fileHandle.createWriter();\r\n    // Write the full length of the contents\r\n    await writer.write(0, contents);\r\n    // Close the file and write the contents to disk\r\n    await writer.close();\r\n    return;\r\n  }\r\n  // For Chrome 83 and later.\r\n  // Create a FileSystemWritableFileStream to write to.\r\n  const writable = await fileHandle.createWritable();\r\n  // Write the contents of the file to the stream.\r\n  await writable.write(contents);\r\n  // Close the file and write the contents to disk.\r\n  await writable.close();\r\n}\r\n\r\n/**\r\n * Verify the user has granted permission to read or write to the file, if\r\n * permission hasn't been granted, request permission.\r\n *\r\n * @param {FileSystemFileHandle} fileHandle File handle to check.\r\n * @param {boolean} withWrite True if write permission should be checked.\r\n * @return {boolean} True if the user has granted read/write permission.\r\n */\r\nasync function verifyPermission (fileHandle, withWrite) {\r\n  const opts = {};\r\n  if (withWrite) {\r\n    opts.writable = true;\r\n    // For Chrome 86 and later...\r\n    opts.mode = 'readwrite';\r\n  }\r\n  // Check if we already have permission, if so, return true.\r\n  if ((await fileHandle.queryPermission(opts)) === 'granted') {\r\n    return true;\r\n  }\r\n  // Request permission to the file, if the user grants permission, return true.\r\n  if ((await fileHandle.requestPermission(opts)) === 'granted') {\r\n    return true;\r\n  }\r\n  // The user did nt grant permission, return false.\r\n  return false;\r\n}\r\n\r\n/**\r\n * FileSystemFileHandle からそのコンテンツを取得します\r\n * @param {Object<FileSystemFileHandle>} fileHandle\r\n * @return {Object}\r\n */\r\nasync function getFileContent(fileHandle) {\r\n  if (verifyPermission(fileHandle, true) === false) return;\r\n  const file = await fileHandle.getFile();\r\n  const fileText = await readFile(file);\r\n  return fileText;\r\n}\r\n\r\nexport {\r\n  getFileHandle, getNewFileHandle,\r\n  readFile, writeFile, verifyPermission, getFileContent\r\n};\r\n","/* eslint-disable */\n\nfunction arrayBufferToBinaryString(arrayBuffer) {\n  let binaryString = '';\n  const bytes = new Uint8Array(arrayBuffer);\n  const len = bytes.byteLength;\n  for (let i = 0; i < len; i++) {\n    binaryString += String.fromCharCode(bytes[i]);\n  }\n  return binaryString\n}\n\n// Binary String to Binary\n// \nfunction binaryStringToArrayBuffer(binaryString) {\n  const codeUnits = new Uint8Array(binaryString.length);\n  for (let i = 0; i < codeUnits.length; i++) {\n    codeUnits[i] = binaryString.charCodeAt(i);\n  }\n  // （...） 内がわかりにくいが、16bit 毎だったバイナリを 8bit 毎にわけて、それぞれを文字列に変換している\n  // Uint8Array の　要素の範囲は 0..255 であるため変換後の文字が`バイナリ文字`であることが保証できる\n  // return String.fromCharCode(...new Uint8Array(codeUnits.buffer));\n  return codeUnits.buffer;\n}\n\n\nfunction arrayBufferToBase64 (arrayBuffer){\n  const binaryString = arrayBufferToBinaryString(arrayBuffer);\n  return btoa(binaryString);\n}\n\n// Base64 to Array Buffer\n// Process: Base64 -> Binary String -> Binary\nfunction base64ToArrayBuffer (base64String){\n  const binaryString = atob(base64String);\n  return binaryStringToArrayBuffer(binaryString);\n}\n\nexport {\n  arrayBufferToBinaryString,\n  binaryStringToArrayBuffer,\n  arrayBufferToBase64,\n  base64ToArrayBuffer,\n};\n","/* eslint-disable */\n/**\n * AESの鍵を導出する\n * @param {ArrayBuffer|TypedArray} password\n * @param {ArrayBuffer|TypedArray} salt\n * @return {CryptoKey} AES-256-GCMの鍵\n */\nasync function deriveKey (password, salt) {\n  const passwordKey = await window.crypto.subtle.importKey(\n      'raw',\n      password,\n      'PBKDF2',\n      false,\n      ['deriveKey']\n  );\n\n  return await window.crypto.subtle.deriveKey(\n      {\n        name: 'PBKDF2',\n        salt: salt,\n        iterations: 2000,\n        hash: 'SHA-256'\n      },\n      passwordKey,\n      {\n        name: 'AES-GCM',\n        length: 256\n      },\n      true,\n      ['encrypt', 'decrypt']\n  );\n}\n\n/**\n * パスワードを用いて文字列を暗号化する\n * @param {string} message 暗号化するメッセージ\n * @param {string} password パスワード\n * @return {{cipher: ArrayBuffer, iv: Uint8Array, salt: Uint8Array}} 暗号化データ\n */\nasync function encrypt (message, password) {\n  // パスワードをTypedArrayに\n  const pwd = new TextEncoder().encode(password);\n\n  // 鍵導出用のsaltを生成\n  const salt = window.crypto.getRandomValues(new Uint8Array(16));\n\n  // パスワードとsaltから鍵を導出する\n  const key = await deriveKey(pwd, salt);\n\n  // 初期化ベクトルを生成\n  const iv = window.crypto.getRandomValues(new Uint8Array(12));\n\n  // 暗号化を実行\n  const cipher = await window.crypto.subtle.encrypt(\n    {\n      name: 'AES-GCM',\n      iv: iv,\n      tagLength: 128, // GCMモードの改ざんチェック用データの長さ\n      // ↓ GCMモードのAAD（追加認証データ）、無くても良い\n      additionalData: new TextEncoder().encode('test')\n    },\n    key,\n    new TextEncoder().encode(message)\n  );\n\n  // IV, salt, 暗号文を出力とする\n  return {\n    iv,\n    salt,\n    cipher,\n  };\n}\n\n\n/**\n * 暗号文、salt、IVとパスワードで復号する\n * @param {{iv: Uint8Array, salt: Uint8Array}} 暗号鍵 iv, salt\n * @param {ArrayBuffer} cipher 暗号文\n * @param {string} password パスワード\n * @return {string} 復号されたメッセージ\n */\nasync function decrypt({iv, salt}, cipher, password) {\n  // パスワードをTypedArrayに\n  const pwd = new TextEncoder().encode(password);\n\n  // パスワードとsaltから鍵を導出する\n  const key = await deriveKey(pwd, salt);\n\n  // 復号する\n  const buffer = await window.crypto.subtle.decrypt(\n      {\n        name: 'AES-GCM',\n        iv: iv,\n        tagLength: 128,\n        additionalData: new TextEncoder().encode('test')\n      },\n      key,\n      cipher\n  );\n\n  return new TextDecoder().decode(buffer);\n}\n\nexport {\n  encrypt, decrypt\n};\n\n","import { get as getIDB, set as setIDB } from 'idb-keyval';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport {\r\n  getNewFileHandle, verifyPermission, writeFile, readFile, getFileHandle,\r\n} from '@/lib/fs-helper';\r\nimport { XMLBuilder } from '@/lib/fxbuilder.min';\r\n// import { XMLParser } from '@/lib/fxparser.min';\r\nimport devTemplate from '@/formats/device-file-template.json';\r\nimport { XMLParser } from '@/lib/fxparser.min';\r\nimport { base64ToArrayBuffer, arrayBufferToBase64 } from '@/lib/string_to_buffer';\r\nimport webStorage from '@/lib/webstorage';\r\nimport { encrypt, decrypt } from '@/lib/cypto';\r\n\r\n/**\r\n * XML Parser 設定\r\n */\r\nconst ALWAYS_ARRAY_KEYS = ['root.services.service', 'root.services.service.account', 'root.services.service.scope'];\r\nconst fastXML = {\r\n  // 常に配列にするキーリスト\r\n  // コンストラクト\r\n  parser: new XMLParser({\r\n    ignoreAttributes: false,\r\n    isArray: (name, jpath) => (ALWAYS_ARRAY_KEYS.indexOf(jpath) !== -1),\r\n  }),\r\n\r\n  builder: new XMLBuilder(),\r\n};\r\n\r\n/**\r\n * FileHandle からテキストを取得し、オブジェクトに変換する.\r\n * 変換時には XML Parser 設定を使う.\r\n * @param {object<FileSystemFileHandle>} fileHandle\r\n * @returns {object|error}\r\n */\r\nconst fileParser = async (fileHandle) => {\r\n  if (verifyPermission(fileHandle)) {\r\n    const file = await fileHandle.getFile();\r\n    const fileText = await readFile(file);\r\n    const object = fastXML.parser.parse(fileText);\r\n    return object;\r\n  }\r\n  return new Error('File access is denied');\r\n};\r\n\r\nconst initState = () => ({\r\n  file: {\r\n    handle: null,\r\n    id: null,\r\n    isModified: false,\r\n    meta: null,\r\n    data: null,\r\n  },\r\n  editor: {\r\n    xtext: null,\r\n    xobject: null,\r\n  },\r\n});\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: initState(),\r\n  mutations: {\r\n    addFileKeys: (state, {\r\n      id, iv, salt, override = false,\r\n    }) => {\r\n      const { fileKeys } = state;\r\n      const idx = fileKeys.map((keyset) => keyset.id).indexOf(id);\r\n      if (idx === -1) fileKeys.push({ id, iv, salt });\r\n      else if (override) fileKeys[idx] = { id, iv, salt };\r\n    },\r\n    putFile: (state, {\r\n      handle = undefined,\r\n      id = undefined,\r\n      isModified = undefined,\r\n      meta = undefined,\r\n      data = undefined,\r\n    }) => {\r\n      const res = {};\r\n      if (handle) res.handle = handle;\r\n      if (id) res.id = id;\r\n      if (isModified) res.isModified = isModified;\r\n      if (meta) res.meta = meta;\r\n      if (data) res.data = data;\r\n      Object.assign(state.file, res);\r\n      return state.file;\r\n    },\r\n    putEditor: (state, xmlObject) => {\r\n      let {\r\n        xtext, xobject,\r\n      } = xmlObject;\r\n      if (!xtext && !xobject) return;\r\n      if (!xtext) xtext = fastXML.builder.build(xobject);\r\n      if (!xobject) xobject = fastXML.parser.parse(xtext);\r\n      Object.assign(state.editor, { xtext, xobject });\r\n    },\r\n    modified: (state) => {\r\n      if (!state.file.isModified) state.file.isModified = true;\r\n    },\r\n  },\r\n  getters: {\r\n    isExistFileId: (state) => (fileId) => state.fileIds.includes(fileId),\r\n    isFileModified: (state) => state.file.isModified,\r\n    isEmptyData: (state) => (!state.file.data || state.file.data === ''),\r\n    fileContentAsXML: (state) => {\r\n      const clone = devTemplate;\r\n      Object.assign(clone, { meta: state.file.meta, data: state.file.data });\r\n      return fastXML.builder.build(clone);\r\n    },\r\n    fileState: (state) => state.file,\r\n    editorState: (state) => {\r\n      const { xtext, xobject } = state.editor;\r\n      if (!xtext) return { xtext: '', xobject: {} };\r\n      return {\r\n        xtext: xtext\r\n          .replace(/\\n+/g, '')\r\n          .replace(/　+/g, '') // eslint-disable-line no-irregular-whitespace\r\n          .replace(/\\s{2,}/g, ''),\r\n        xobject,\r\n      };\r\n    },\r\n  },\r\n  actions: {\r\n    /**\r\n     * Webstorage から、特定の値を取り出し、state に格納します\r\n     * @param {object<VuexContext>}\r\n     * @returns {{ recentFiles: function, fileKeys: function }}\r\n     */\r\n    fetch() {\r\n      const fetch = {};\r\n\r\n      /** @type {object<File>[]} 保管している File オブジェクトのリスト */\r\n      fetch.recentFiles = async () => {\r\n        const data = (await getIDB('recentFiles')) ?? [];\r\n        return data;\r\n      };\r\n\r\n      /**  @type {{ id: string, iv: string, salt: string: }} iv, salt は Base64 文字列 */\r\n      fetch.fileKeys = () => {\r\n        const data = webStorage.get('fileKeys', []);\r\n        return data;\r\n      };\r\n\r\n      /** @type {string[]} 持っている鍵のIDだけのリスト */\r\n      fetch.fileIds = () => {\r\n        const data = fetch.fileKeys().map((keyset) => keyset.id);\r\n        return data;\r\n      };\r\n\r\n      /**\r\n       * 持っている Key Set のリスト\r\n       * @param {string} id File ID\r\n       * @returns {{ index: number, iv: string, salt: string }} iv, salt は Base64 文字列\r\n       */\r\n      fetch.getKeySet = (id) => {\r\n        const keyList = fetch.fileKeys();\r\n        const index = keyList.map((keyset) => keyset.id).indexOf(id);\r\n        if (index === -1) return { index, iv: null, salt: null };\r\n        return { index, iv: keyList[index].iv, salt: keyList[index].salt };\r\n      };\r\n      return fetch;\r\n    },\r\n    push() {\r\n      const push = {};\r\n      push.recentFiles = async (next) => {\r\n        await setIDB('recentFiles', next);\r\n      };\r\n      push.fileKeys = (next) => {\r\n        webStorage.set('fileKeys', next);\r\n      };\r\n      return push;\r\n    },\r\n    async writeOutFile({ getters, commit }) {\r\n      const { handle } = getters.fileState;\r\n      if (await verifyPermission(handle, true)) {\r\n        await writeFile(handle, getters.fileContentAsXML);\r\n        commit('putFile', { isModified: false });\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    /**\r\n     * recentFiles に新しい File オブジェクトを追加します\r\n     * @param {object<VuexContext>}\r\n     * @param {{ handle: object<FileSystemFileHandle> }}\r\n     */\r\n    async addRecent({ dispatch }, { handle }) {\r\n      const fileHandle = handle;\r\n      if (!fileHandle) return;\r\n      // If isSameEntry isn't available, we can't store the file handle\r\n      if (!fileHandle.isSameEntry) {\r\n        console.warn('Saving of recents is unavailable.');\r\n        return;\r\n      }\r\n      const recents = await (await dispatch('fetch')).recentFiles();\r\n      // Loop through the list of recent files and make sure the file we're\r\n      // adding isn't already there. This is gross.\r\n      const inList = await Promise.all(recents.map((f) => fileHandle.isSameEntry(f)));\r\n      if (inList.some((val) => val)) return;\r\n      // Add the new file handle to the top of the list, and remove any old ones.\r\n      recents.unshift(handle);\r\n      await (await dispatch('push')).recentFiles(recents);\r\n    },\r\n    /**\r\n     * ファイルを選択させ、state.file を上書きします.\r\n     * @param {object<VuexContext>}\r\n     * @returns {{ id: string, meta: {}, data: {} }|error} object(XML コンテンツ) か、エラーを返します\r\n     */\r\n    async selectFile({ commit, getters, dispatch }) {\r\n      const file = getters.fileState;\r\n      if (file.isModified) throw new Error('File is modified');\r\n      const handle = await (async () => {\r\n        try {\r\n          return await getFileHandle();\r\n        } catch (error) {\r\n          return null;\r\n        }\r\n      })();\r\n      if (!handle) throw new Error('No file selected');\r\n      const { meta, data } = await fileParser(handle);\r\n      const id = meta.devicefileid;\r\n      const fileIds = (await dispatch('fetch')).fileIds();\r\n      if (!fileIds.includes(id)) {\r\n        throw new Error('Unknown File ID in this browser');\r\n      }\r\n      commit('putFile', {\r\n        handle, id, isModified: false, meta, data,\r\n      });\r\n      return { id, meta, data };\r\n    },\r\n    /**\r\n     * Handle を state.file に差し込みます.\r\n     * recentFiles 等、Handle だけ持っているときに使います.\r\n     * @param {object<VuexContext>}\r\n     * @param {object<FileSystemFileHandle>} handle\r\n     * @returns {{ id: string, meta: {}, data: string|null }}\r\n     */\r\n    async plugFile({ dispatch, commit }, { handle }) {\r\n      if (!handle) throw new Error('No file selected');\r\n      const verification = await verifyPermission(handle, false);\r\n      if (verification) {\r\n        const { meta, data } = await fileParser(handle);\r\n        const id = meta.devicefileid;\r\n        const fileIds = (await dispatch('fetch')).fileIds();\r\n        if (!fileIds.includes(id)) {\r\n          throw new Error('Unknown File ID in this browser');\r\n        }\r\n        commit('putFile', {\r\n          handle, id, isModified: false, meta, data,\r\n        });\r\n        return { id, meta, data };\r\n      }\r\n      return new Error('File cannot be set');\r\n    },\r\n    /**\r\n     * ファイルを作成し、state.file を上書きします.\r\n     * ファイル ID 新規作成、recentFIles への登録など.\r\n     * ファイルへの書き込みはしません.\r\n     * @param {object<VuexContext>}\r\n     * @returns {{ handle: object<FileSystemFileHandle>, id: string }|error}\r\n     */\r\n    async createFile({ getters, dispatch, commit }) {\r\n      if (getters.isFileModified) throw new Error('File is modified');\r\n      const handle = await (async () => {\r\n        try {\r\n          return await getNewFileHandle('AccountStore_by_hashed-potato.xml');\r\n        } catch (error) {\r\n          return null;\r\n        }\r\n      })();\r\n      if (!handle) throw new Error('No file created');\r\n      const id = uuidv4();\r\n      commit('putFile', {\r\n        handle, id, isModified: false, meta: null, data: null,\r\n      });\r\n      // もしファイルが初期化されない場合、ファイルにIDが書き込まれないので注意\r\n      dispatch('addRecent', { handle });\r\n      const fileKeys = (await dispatch('fetch')).fileKeys();\r\n      fileKeys.unshift({ id, iv: null, salt: null });\r\n      (await dispatch('push')).fileKeys(fileKeys);\r\n      return { handle, id };\r\n    },\r\n    /**\r\n     * state.file のファイルをテンプレート XML で上書きします\r\n     * @param {object<VuexContext>}\r\n     * @returns {{ handle: object<FileSystemFileHandle>, id: string }|error}\r\n     */\r\n    async initializeFile({ getters }) {\r\n      const file = getters.fileState;\r\n      if (!file.handle) throw new Error('No file selected');\r\n      if (file.isModified) throw new Error('File is modified');\r\n      if (verifyPermission(file.handle, true)) {\r\n        const temp = devTemplate;\r\n        temp.meta.devicefileid = file.id;\r\n        await writeFile(file.handle, fastXML.builder.build(temp));\r\n        return { handle: file.handle, id: file.id };\r\n      }\r\n      throw new Error('File cannot be initialized');\r\n    },\r\n    /**\r\n     * state.file のファイルの中身(XML)を取り出し、パースして state.file に入れます\r\n     * @param {object<VuexContext>}\r\n     * @returns {{ meta: {}, data: {} }|error} object(XML コンテンツ) か、エラーを返します\r\n     */\r\n    async getFileContent({ getters, commit }, { isForce = false }) {\r\n      const { content, handle, isModified } = getters.fileState;\r\n      if (!handle) throw new Error('No file selected');\r\n      if (isModified) throw new Error('File is modified');\r\n      if (!isModified && content && !isForce) return content;\r\n      const { meta, data } = await fileParser(handle);\r\n      commit('putFile', { meta, data, isModified: false });\r\n      return { meta, data };\r\n    },\r\n    /**\r\n     * state.file ファイルのプライベートデータを複合化します.\r\n     * 複合化のための iv, salt は state.file に保存されます\r\n     * 複合化したデータは state.editor に保存されます.\r\n     * @param {object<VuexContext>}\r\n     * @param {string} password\r\n     * @returns {{ xtext: object, xobject: object }|null|error} 複合化&パースされたプライベートデータ\r\n     */\r\n    async decryptContent({ getters, dispatch, commit }, { password }) {\r\n      const {\r\n        handle, id, data, // meta,\r\n      } = getters.fileState;\r\n      if (!handle) throw new Error('No file selected');\r\n      if (!data || data === '') {\r\n        commit('putEditor', { xtext: '' });\r\n        return null;\r\n      }\r\n      const { index, iv, salt } = (await dispatch('fetch')).getKeySet(id);\r\n      const ivAB = base64ToArrayBuffer(iv);\r\n      const saltAB = base64ToArrayBuffer(salt);\r\n      if (index === -1) throw new Error('No cypto key');\r\n      const cipher = base64ToArrayBuffer(data);\r\n      const plainText = await decrypt({ iv: ivAB, salt: saltAB }, cipher, password);\r\n      const plainObject = fastXML.parser.parse(plainText);\r\n      commit('putEditor', { xtext: plainText, xobject: plainObject });\r\n      return { xtext: plainText, xobject: plainObject };\r\n    },\r\n    /**\r\n     * state.editor ファイルのプライベートデータを暗号化し、state.file に上書きします\r\n     * 取得した key セットは上書きされます.\r\n     * state.editor は初期化されます.\r\n     * @param {object<VuexContext>}\r\n     * @param {string} password\r\n     * @returns {{ handle: object<FileSystemFileHandle>, id: string,\r\n     *  data: {{ handle: object<FileSystemFileHandle>, id: string, data: string }} }|error}\r\n     */\r\n    async encryptContent({ getters, commit, dispatch }, { password }) {\r\n      const {\r\n        handle, id, isModified,\r\n      } = getters.fileState;\r\n      const {\r\n        xtext,\r\n      } = getters.editorState;\r\n      if (!handle) throw new Error('No file selected');\r\n      if (!isModified) throw new Error('No change');\r\n      if (!xtext || xtext === '') {\r\n        throw new Error('No content');\r\n      }\r\n      const crypto = await encrypt(xtext, password);\r\n      (async () => {\r\n        const fileKeys = (await dispatch('fetch')).fileKeys();\r\n        const { index } = (await dispatch('fetch')).getKeySet(id);\r\n        Object.assign(fileKeys[index], {\r\n          iv: arrayBufferToBase64(crypto.iv),\r\n          salt: arrayBufferToBase64(crypto.salt),\r\n        });\r\n        (await dispatch('push')).fileKeys(fileKeys);\r\n      })();\r\n      const newData = arrayBufferToBase64(crypto.cipher);\r\n      commit('putFile', {\r\n        data: newData,\r\n        isModified: true,\r\n      });\r\n      commit('putEditor', {\r\n        xtext: null,\r\n        xobject: null,\r\n      });\r\n      if (await dispatch('writeOutFile')) {\r\n        return { handle, id, data: newData };\r\n      }\r\n      throw new Error('File cannot be output');\r\n    },\r\n  },\r\n};\r\n","const initState = () => ({\r\n  /** @type {object} XML Object */\r\n  xo: null,\r\n});\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state: initState(),\r\n  mutations: {\r\n    initXmlObject(state) {\r\n      if (!('root' in state.xo) || typeof state.xo.root === 'string') {\r\n        state.xo = { root: {} };\r\n      }\r\n      console.debug('typeof state.xo.root', typeof state.xo.root);\r\n\r\n      const r = state.xo.root;\r\n      console.debug('typeof r.services', typeof r.services);\r\n      if (!('services' in r) || typeof r.services === 'string') {\r\n        r.services = { service: {} };\r\n      }\r\n      console.debug('typeof r.services.service', typeof r.services.service);\r\n      if (!('service' in r.services) || typeof r.services.service === 'string') {\r\n        r.services.service = [];\r\n      }\r\n      console.debug('typeof r.youare', typeof r.youare);\r\n      if (!('youare' in r) || typeof r.youare === 'string') {\r\n        r.youare = {};\r\n      }\r\n      state.xo.root = r;\r\n    },\r\n    putXmlObject(state, object) {\r\n      state.xo = object;\r\n    },\r\n    putServices(state, next) {\r\n      state.xo.root.services.service = next;\r\n    },\r\n    putServiceById(state, { id, content }) {\r\n      const idx = state.xo.root.services.service\r\n        .findIndex((srv) => srv.id === id);\r\n      if (idx > -1) state.xo.root.services.service[idx] = content;\r\n    },\r\n    putPersonalInfo(state, { key, label, value }) {\r\n      state.xo.root.youare[key][label] = value;\r\n    },\r\n    addKeyOfService(state) {\r\n      state.xo.root.services.service = [];\r\n    },\r\n  },\r\n  getters: {\r\n    _xo: (state) => state.xo,\r\n    xmlObject: (state) => state.xo,\r\n    root: (state) => state.xo?.root,\r\n    services: (state) => state.xo?.root?.services?.service,\r\n    personalInfo: (state) => state.xo?.root?.youare,\r\n    getServiceById: (state, getters) => (serviceId) => {\r\n      const servs = getters.services;\r\n      console.debug('getServiceById', serviceId, 'in', servs);\r\n      if (!servs) return undefined;\r\n      if (servs.length > 0) { // undefined\r\n        return servs.find((srv) => srv.id === serviceId);\r\n      }\r\n      return undefined;\r\n    },\r\n    getPersonalInfoByKey: (state, getters) => (key, label = 'default') => {\r\n      const persinfo = getters.personalInfo;\r\n      if (key in persinfo) {\r\n        return persinfo[key][label];\r\n      }\r\n      return undefined;\r\n    },\r\n  },\r\n  actions: {\r\n    /**\r\n     * Service ブロックを追加する. 重複する場合はエラー.\r\n     * @param {{id: string, object: object}} 追加する Service ID とそのデータ\r\n     * @returns {{id: string, object: object}} 追加した Service ID とそのデータ\r\n     */\r\n    addService: ({ getters, commit }, { id, object = {} }) => {\r\n      const servs = (() => {\r\n        const sv = getters.services;\r\n        if (sv) return sv;\r\n        commit('addKeyOfService');\r\n        return getters.services;\r\n      })();\r\n      if (getters.getServiceById(id)) throw new Error('Service ID が重複しています');\r\n      const newBlock = object;\r\n      Object.assign(newBlock, { id });\r\n      servs.push(newBlock);\r\n      console.debug('Service ブロックを追加, 追加分:', newBlock, ', 結果:', servs);\r\n      return { id, object };\r\n    },\r\n    /**\r\n     * ServiceID を指定して Credential を追加する.\r\n     * Service ブロックに Credential がすでにあれば結合し、なければ作成して代入する.\r\n     * @param {{ id: string, credential: object }} 対象の Service ID とその認証データ\r\n     * @returns {{ id: string, credential: object }}\r\n     */\r\n    addCredential: ({ getters, commit }, { id, credential }) => {\r\n      const servs = getters.getServiceById(id); /** @type {object} Service ブロック */\r\n      console.debug('Credential を追加, ServiceID:', id, ', Credential:', credential);\r\n      if (!servs) throw new Error('Service ID が見つかりません');\r\n      if ('credential' in servs) {\r\n        Object.assign(servs.credential, credential);\r\n      } else {\r\n        servs.credential = credential;\r\n      }\r\n      commit('putServiceById', { id, content: servs });\r\n      return { id, credential };\r\n    },\r\n    getCredentialByServiceId: ({ getters }, { id }) => {\r\n      const servs = getters.getServiceById(id);\r\n      if (!servs) throw new Error('Service ID が見つかりません');\r\n      if (!('credential' in servs)) throw new Error('Credential がありません');\r\n      return servs.credential;\r\n    },\r\n  },\r\n};\r\n","// eslint-disable-next-line import/no-extraneous-dependencies\r\nimport { createStore } from 'vuex';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\n// import createPersistedState from 'vuex-persistedstate';\r\n\r\nimport datastore from './modules/datastore';\r\nimport xmlobject from './modules/xmlobject';\r\n\r\nexport default createStore({\r\n  modules: {\r\n    datastore, xmlobject,\r\n  },\r\n  plugins: [\r\n    // createPersistedState({\r\n    //   storage: window.localStorage,\r\n    // }),\r\n  ],\r\n});\r\n","// eslint-disable-next-line\nimport { createLogger } from 'vue-logger-plugin';\n\n// create logger with options\nconst logger = createLogger({\n  enabled: true,\n  level: 'debug',\n  prefixFormat: ({ level, caller }) => (\n    caller\n      ? `[${level.toUpperCase()}] [${caller?.fileName}:${caller?.functionName}:${caller?.lineNumber}]`\n      : `[${level.toUpperCase()}]`\n  ),\n});\n\nexport default logger;\n","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport { createApp } from 'vue';\r\n\r\n// eslint-disable-next-line\r\nimport appDialog from '@/lib/app-dialog';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport store from './store';\r\nimport logger from './logger';\r\n\r\nconst app = createApp(App);\r\n\r\napp.use(logger);\r\napp.use(router);\r\napp.use(store);\r\n\r\napp.use(appDialog, { test: 'ok' });\r\n\r\napp.mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkhashed_potato_pwa\"] = self[\"webpackChunkhashed_potato_pwa\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(3324); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["install","app","options","config","globalProperties","$dialog","alert","async","message","window","confirm","prompt","Promise","resolve","reject","input","class","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_AppHeader","_component_router_view","_component_AppFooter","className","_hoisted_2","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_3","_hoisted_4","name","__exports__","key","id","href","target","$options","isSupported","_hoisted_5","_hoisted_6","_createCommentVNode","data","hasFSAccess","methods","this","components","AppHeader","AppFooter","render","src","_imports_0","alt","_imports_1","_imports_2","_imports_3","_component_AppMainHeader","title","_toDisplayString","$data","check","_createBlock","_component_LinkFieldShow","fields","req","_component_SelectRecents","_component_DecryptButton","onOndecrypted","getService","localServiceInfo","personalInfo","onClick","_cache","args","sendData","$props","props","for","disabled","label","onChange","selectedRecentFiles","$event","userSelected","disabledValue","_Fragment","_renderList","histories","history","idx","value","type","String","Number","selectedHistoryItem","$log","debug","result","$store","dispatch","handle","error","info","mounted","recentFiles","scope","redirectURI","Type","Scope","Array","RedirectURI","ID","watch","doDecrypt","emits","getters","Error","$emit","password","HttpPoster","constructor","endpoint","postWithJSON","payload","body","console","log","Object","assign","response","fetch","method","headers","JSON","stringify","ok","_defineProperty","CANCELED","resultcode","AGREED","vschema","string","only","pattern","STRING","PATTERN","URI","trims","maxLength","array","separatedBy","toArray","each","schema","ENDPOINT","AppMainHeader","SelectRecents","LinkFieldShow","DecryptButton","postData","identity","credential","rqID","xobject","commit","service","includes","map","onNoService","consent","poster","RESULT","location","next","vs","applySchemaObject","signupvs","err","logger","$route","params","json","redirect_uri","requester_id","newAccount","recordeNewData","genPassword","letters","numbers","toUpperCase","len","i","charAt","Math","floor","random","length","onNewService","createAccount","createdAccount","xmlObject","doRedirect","_component_CreateDatastore","createFile","createRes","isInit","initRes","CreateDatastore","reqId","generateRequesterId","multiple","reqScope","_hoisted_7","submitService","generateRandomId","adjectives","nouns","getRandomElement","generateId","adjective","noun","generatedId","requestBody","self_request_auth","self_request_auth_value","confirmMessage","receptionId","FormData","keys","forEach","append","resdata","reception_id","$router","push","test","clearIndexDB","clearLocalStorage","doSelectFile","doCreateFile","doInitFile","doGetContent","doEncryptContent","doDecryptContent","doPutContentMan","doCommitFile","doCheckUp","DatabaseName","webStorage","dbname","database","saveDatabase","undefined","localStorage","setItem","getDatabase","parse","getItem","get","ifUndefined","set","del","clear","removeItem","clearAll","content","passwd","fileContent","privateData","services","servId","indexOf","_ctx","doEncrypt","_component_XMLEditor","xmlstring","xmlString","editorKey","xmlns","viewBox","d","_hoisted_8","_hoisted_9","xdata","doFormat","doSave","_hoisted_10","deafult","xdataPutFlag","lineLenght","xmlFormat","xtext","encResult","match","document","querySelector","rows","XMLEditor","keysIDB","all","getIDB","state","currentFileName","sid","pub","sendPubkey","routes","path","component","IndexView","StartView","ConfigView","DevelopperView","SignInView","children","SignUpView","ContentEditorView","ServiceGenView","mode","PubkeyView","router","createRouter","createWebHashHistory","getFileHandle","showOpenFilePicker","then","handles","chooseFileSystemEntries","getNewFileHandle","filename","opts","types","description","accept","suggestedName","showSaveFilePicker","accepts","extensions","mimeTypes","readFile","file","text","_readFileLegacy","reader","FileReader","addEventListener","e","srcElement","readAsText","writeFile","fileHandle","contents","createWriter","writer","write","close","writable","createWritable","verifyPermission","withWrite","queryPermission","requestPermission","arrayBufferToBinaryString","arrayBuffer","binaryString","bytes","Uint8Array","byteLength","fromCharCode","binaryStringToArrayBuffer","codeUnits","charCodeAt","buffer","arrayBufferToBase64","btoa","base64ToArrayBuffer","base64String","atob","deriveKey","salt","passwordKey","crypto","subtle","importKey","iterations","hash","encrypt","pwd","TextEncoder","encode","getRandomValues","iv","cipher","tagLength","additionalData","decrypt","TextDecoder","decode","ALWAYS_ARRAY_KEYS","fastXML","parser","XMLParser","ignoreAttributes","isArray","jpath","builder","XMLBuilder","fileParser","getFile","fileText","object","initState","isModified","meta","editor","namespaced","mutations","addFileKeys","override","fileKeys","keyset","putFile","res","putEditor","build","modified","isExistFileId","fileId","fileIds","isFileModified","isEmptyData","fileContentAsXML","clone","devTemplate","fileState","editorState","replace","actions","keyList","index","setIDB","writeOutFile","addRecent","isSameEntry","warn","recents","inList","f","some","val","unshift","selectFile","devicefileid","plugFile","verification","uuidv4","initializeFile","temp","getFileContent","isForce","decryptContent","getKeySet","ivAB","saltAB","plainText","plainObject","encryptContent","newData","xo","initXmlObject","root","r","youare","putXmlObject","putServices","putServiceById","findIndex","srv","putPersonalInfo","addKeyOfService","_xo","getServiceById","serviceId","servs","find","getPersonalInfoByKey","persinfo","addService","sv","newBlock","addCredential","getCredentialByServiceId","createStore","modules","datastore","xmlobject","plugins","createLogger","enabled","level","prefixFormat","caller","fileName","functionName","lineNumber","createApp","App","use","store","appDialog","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}